{
    "componentChunkName": "component---src-templates-issues-tsx",
    "path": "/issues/176",
    "result": {"data":{"issuesJson":{"id":"8440dd94-6bdc-5102-b2de-caf22c0b8b1a","title":"fatedier/frp: 一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网","number":176,"bodyHTML":"<div align=\"center\" dir=\"auto\">\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/a15b413168923d02e21292705ceaf86b92675f98e250c5c896a02ba7504a6eae/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f657279616a662f7475406d61696e2f696d672f696d6167655f32303234303432305f3231343430382e676966\"><img src=\"https://camo.githubusercontent.com/a15b413168923d02e21292705ceaf86b92675f98e250c5c896a02ba7504a6eae/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f657279616a662f7475406d61696e2f696d672f696d6167655f32303234303432305f3231343430382e676966\" width=\"100%\" height=\"3\" data-animated-image=\"\" data-canonical-src=\"https://cdn.jsdelivr.net/gh/eryajf/tu@main/img/image_20240420_214408.gif\" style=\"max-width: 100%; height: auto; max-height: 3px;\"></a><br><br></p>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th align=\"right\">Repos</th>\n<th align=\"left\"><a href=\"https://github.com/fatedier/frp\">fatedier/frp</a></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"right\"><strong>Views</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/6ecabefc2e320f44c5d74363b006ca09a0f229f295ec76753d3b9d7b72781c12/68747470733a2f2f76696577732e77686174696c656172656e65642e746f6461792f76696577732f6769746875622f66617465646965722f6672702e737667\" alt=\"views\" data-canonical-src=\"https://views.whatilearened.today/views/github/fatedier/frp.svg\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>Stars</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/81277ed39bbbcd6dbabe1b966aa9e2c33a61aa6b70fa3a5dfbbf000b454573d0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f66617465646965722f6672703f636f6c6f723d663266303864266c6f676f3d556e64657274616c65266c6f676f436f6c6f723d656234363330\" alt=\"stars\" data-canonical-src=\"https://img.shields.io/github/stars/fatedier/frp?color=f2f08d&amp;logo=Undertale&amp;logoColor=eb4630\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>Forks</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/33dbfbd52f22bba5c322bf60b292c903ed38da75507edcaa169bd11c1eebc089/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f66617465646965722f6672703f636f6c6f723d626138366562266c6f676f3d48616e647368616b65266c6f676f436f6c6f723d656136616136\" alt=\"forks\" data-canonical-src=\"https://img.shields.io/github/forks/fatedier/frp?color=ba86eb&amp;logo=Handshake&amp;logoColor=ea6aa6\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>License</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/0edd0fb2bee4cfcbb60bd0d7319b1dba7112237506b404a96912c9ddabe73a73/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f66617465646965722f6672703f6c6f676f3d64617461253341696d616765253246706e672533426261736536342532436956424f5277304b47676f414141414e53556845556741414144414141414177434159414141425841766d48414141414358424957584d41414173544141414c457745416d70775941414144336b6c45515652346e4f335953557a5555426748384a726f57567255474a66456d3773584e63534446784d544c327069347348456778654e526f77586770455742445552522532424e414e4f4b4f4b36366f6f4b4a4742586545475263574163455646475152484677516d483525324630774861655748493944554455354c356b6e6568644f62377a66652532423139636e434a47495243516945596c514237594a4979474c38616f73756c565a36695246516a69474b6b7564576735614c6c704f70704e586e665071773555304459524a6d56786a4367464633424c755a476d416f5655694b4541726d583744375553677351706f72674761336748664b34483663754262435644334771683141352532424c6745253242467749656e514d306a6f446f66714c6f48564e7742796d384370546e416d327a51713073676478624964515a556c416b7150415a3664676a303541446f59526f6f66792532466f5869726f376b3551586a4c6f70677a4b69514e6c4c4461716f4967754577426a7a7150355066446a45394479495879493633464d547751464d43567271774e61763451666f52673538514625324266724d485172454b3844546f434d714e4179574e4866786d54526f4c4f726d5352566747744466714345715a4f4851727a6f34706243557341333431365169364551394b476a6345465267484f724f4b6e5536574162396247455459656b4b7843766a546167394534706a653534446b3551503862624d4859762532464333756541654a6b50304f4778422532424a70426e4172595238455951516e6f4e31414e4661426e5050356c385372736559514c303641646b30464a5938484f5761424d6c6541486a683068506f73497a6c6f3876304125324633345a694f6548726130714b52504d5653493774762532423932747725324676687855654252713456454c674d376642714b354770526d6f514c584e7075625475367a6f4e52706754386e5051627138347764253246494375767978694b4871694e41664933774d367549684271476b4c696977414f734b44714f68743749747239567938536a52424557667941627225324668523142667056514664484a42253246423268683778376a36517077435665655951326b72554235436c636a3641326d3067576a25324244306d4c34397a573563517943484c4e37726a6c6d6d6174457958582532464372547a412532466f51785a6b576c39474a5443566f25324279546a3837253242346769504b6376307149486f344156344430565a727251493334706e70524d36357875652532467a417265453425324654253246536f676c664542794d7369517441546c4c3352414a355948725378365a44665337307337754d486842705225324659423573305057366f455270316236253246667252684b3353444c35546965364f515548516c5133735644752532427a50636b397657453973747225324236496a533967486d5750616861444a25324277434b364e494242587348423948796b587378774470686c436d416476706c6162554a4e6e5a504239342532464e7436784f6538587a4562503257684d335741673147756236744825324233513150673337365239713475716c6e6f36676448476a444f5139306562303141484d3672596975554a314f713472344656756a35765239427a4d3957674e764f7977446869495951467667626366774166774d764863615067425041253246447948476a50624e394138616d6562636477416444354e6633373574787165774e5552656f797677424958594c645170576c6877465771745061435044334173467541535636717171496c62304a766b564331464c39576b4c55556c55574b337a585a4c46432532423125324642726f46746f364f7358497545594a5034447a7a5732594656316f4a614141414141456c46546b5375516d4343\" alt=\"license\" data-canonical-src=\"https://img.shields.io/github/license/fatedier/frp?logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3klEQVR4nO3YSUzUUBgH8JroWVrUGJfEm7sXNcSDFxMTL2pi4sHEgxeNRowXgpEWBDURR%2BNANOKOK66ooKJGBXeEGRcWAcEVFGQRHFwQmH5%2F0wHaeWHI9DUDU5L5knehdOb7zfe%2B19cnCJGIRCQiEYlQB7YJIyGL8aosulVZ6iRFQjiGKkudWg5aLlpOppNXnfPqw5U0DYRJmVxjCgFF3BLuZGmAoVUiKEArmX7D7USgsQporgGa3gHfK4H6cuBbCVD3Gqh1A5%2BLgE%2BFwIenQM0joDofqLoHVNwBym8CpTnAm2zQq0sgdxbIdQZUlAkqPAZ6dgj05ADoYRoofy%2FoXiro7k5QXjLopgzKiQNlLDaqoIguEwBjzqP5PfDjE9DyIXyI63FMTwQFMCVrqwNav4QfoRg58QF%2BfrMHQrEK8DToCMqNAyWNHfxmTRoLOrmSRVgGtDfqCEqZOHQrzo4pbCUsA3416Qi6EQ9KGjcEFRgHOrOKnU6WAb9bGETYekKxCvjTag9E4pje54Dk5QP8bbMHYv%2FC3ueAeJkP0OGxB%2BJpBnArYR8EYQQnoN1ANFaBnPP5l8SrseYQL06Adk0FJY8HOWaBMleAHjh0hPosIzlo8v0A%2F34ZiOeHra0qKRPMVSI7tv%2B92tw%2FvhxUeBRq4VELgM7fBqK5GpRmoQLXNpubTu6zoNRpgT8nPQbq84wd%2FICuvyxiKHqiNAfI3wM6uIhBqGkLiiwAOsKDqOht7Itr9Vy8SjRBEWfyAbr%2FhR1BfpVQFdHJB%2FB2hh7x7j6QpwCVeeYQ2krUB5Clcj6A2m0gWj%2BD0mL49zW5cQyCHLN7rjlmmatEyXX%2FCrTzA%2FoQxZkWl9GJTCVo%2ByTj87%2B4giPKcv0qIHo4AV4D0VZrrQI34pnpRM65xue%2FzAreE4%2FT%2FSoglfEByMsiQtATlL3RAJ5YHrSx6ZDfS70s7uMHhBpR%2FYB5s0PW6oERp1b6%2FfrRhK3SDL5Tie6OQUHQlQ3sVDu%2BzPck9vWE9str%2B6IjS9gHmWPahaDJ%2BwCK6NIBBXsHB9HykXsxwDphlCmAdvplabUJNnZPB94%2FNt6xOe8XzEbP2WhM3WAg1Gub6tH%2B3Q1Pg376R9q4uqlno6gdHGjDOQ90eb01AHM6rYiuUJ1Oq4r4FVuj5vR9BzM9WgNvOywDhiIYQFvgbcfwAfwMvHcaPgBPA%2FDyHGjPbN9A8amebcdwAdD5Nf375txqewNUReoyvwBIXYLdQpWlhwFWqtPaCPD3AsFuASV6qqqIlb0JvkVC1FL9WkLUUlUWK3zXZLFC%2B1%2FBroFto6OsXIuEYJP4DzzW2YFV1oJaAAAAAElFTkSuQmCC\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>UpdatedAt</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/557302132ec6aa60bdbff3e18fea8109afeb8d5ab21c9c8c055c9e4c8df430f4/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6173742d636f6d6d69742f66617465646965722f6672703f646973706c61795f74696d657374616d703d636f6d6d6974746572266c6f676f3d64617461253341696d616765253246706e672533426261736536342532436956424f5277304b47676f414141414e5355684555674141414234414141416543415941414141374d4b3669414141414358424957584d41414173544141414c457745416d7077594141414648556c45515652346e4c5658375539615678776d3236646c582532466468627825324232253246516e626b7655627264554151674a4a496655444e574454546d4f76314651554661504a346b7573725630314a7431734e70637453327533626f745a746d786439744a5346536f714b71494635625944464c436f76436c656673747a4a387758524c445a4c7a6e6b634f343535376e3364332532466e655a3472454f515a74315771462532423858467234253242664f4c4565326a6f59307a776638546f795a50766a45676b4c592532426b306d6d72584f36644b696e787a476b30666a5430782532425279723055716e6359637a4d317263347451253242497270324c4758646f344e4334567657715453373277716c632532427231334f527269364b6458646e624f484c6c776c7a4a70524b6e3657342532424b36706f4f434e6e494166486a253246253242776168495a4234764b6e715a6630714a704e49716c2532467638545530634e6c3572627963337730516e54703379324c54614a374d314e617844723266526e315370504736476961323174664533345463614f617931694d55564f5146624659714957536f31573854694156616e43306576584f4542375770313448466232327a453566714c4f433545524c515769644e614e49347545636339693768634a6c644868324e57725135674464624f6c7061756d49754c62326174415144506e7a3062384e6257636d785656524a33486d7870536377777a4f4a6d4b44524765384c6c435a444c4739673754496e5631516c376462586256316533675430574b697243466f6d6b5079767758466c5a474a4f6a563625324253743634757564445a4f55354555636f782532464d455144567674364d62634e3237593341797a687633737061557242365a3971724a534f3139657a6a387032704c426b4a792532426343484a7857493567573574636652527a31645531394766476b6f7539505a4f34736d52396a4746777065783444793362766e6d4b79706f74625531335669646a71595a68726a343972764d457425324625324659714c7a396430304e6a57253246637a67796f394f35317a7336614e6c6f354644747530445a675146686c47584a30644241446f4e6864367576703657686f617967374e394c564748386d443462253246486e667455516f4e4734764c51306769784d716c5725324234714f6a744e48446733723166365969525347785279375576714c62395534716b716e78504f4e7661356c447048723125324279794b524e4b57425a793565644d554842326d3572792532422532424551772532427a6766347a6f39253246306f634e3357527a4c4277344a2532424a7950574372716d4967475974554f735744346f785a46516f50556a4770564871493425324661666b51504336665a5165654d31253242764c7549516e6a754257514444437363726d485039656f4e5041744271664f6e5875614b25324268364a45624772732532427076764d6d78654962683836336162565065597953456f39464a48704e4d464a59253242503563575a6b6667374f3174537759436553514c54593345385130392532464256504a556c78516a7368543142736343593032723955445542667643484236367063665041336c794165336e6772332532463437584467614a7a736c7937787741364e5a746c555550437541487161536a5549502532427375653842525741432532464e6651374a5a505a35397330476a3756747049537a34685125324243706658474d4b685a63764c70554b7866574d386f68766637702532464f446a4842666356463849736b383267314648796b63564645253242555a414158343761452532464d6c34504f3530506e75683025324678346e6d637957507364774468427836436d6b4c562532466746446a594b784f4a4f4674623077517949684c39527943774b33414f664947703159464542686e4d4a634c525745624b644b516f55366e63545a6b494544696341792532463831645675454d3552775066657934784f7830496b25324649324e6e466b692532425761664f6f464959466367595a43797864376543556a626334416d46363566742532466b4d686b336f25324235686337734d4a79716a4a45477659466151464972375930775077384246415925324236253242766d6b3377367a7a5275444d6d5a5652736668385274413075455453443775434254364459514e36697665553066706b594c6a453671725672744f78654e4b553954484c5a4a396b4255324a427342685635416976422532466f4b61514e4b675043427744596149665a4334616454684f71463457454e56694c4a77566f586f62664c424b56773637414f6154734c6336355461564b32317651344c613939654b6359673576627873624f627a5451394e37554b4467554f3177446a6944494942736868357a746733396e514d4c535a4248344f7a424f55444551586d323036643366634c67737762585141345068634b336e6873775531427a3877765130395248472532466f597933656a6677424e6d746f59714c4130586741414141424a52553545726b4a676767253344253344266c6162656c3d557064617465644174\" alt=\"last-commit\" data-canonical-src=\"https://img.shields.io/github/last-commit/fatedier/frp?display_timestamp=committer&amp;logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHUlEQVR4nLVX7U9aVxwm26dlX%2Fdhbx%2B2%2FQnbkvUbrdUAQgJJIfUDNWDTTmOv1FQUFaPJ4kusrV01Jt1sNpctS2u3botZtmxd9tJSFSoqKqIF5bYDFLCovClefstzJ8wXRLDZLznkcO4557n3d3%2FneZ4rEOQZt1WqF%2B8XFr4%2BfOLEe2joY0zwf8ToyZPvjEgkLY%2Bk0mmrXO6dKinxzGk0fjT0x%2BRyr0UqncYczM1rc4tQ%2BIrp2LGXdo4NC4VvWqTS72wqlc%2Br13ORri6KdXdnbOHLlwlzJpRKn6W4%2BK6poOCNnIAfHj%2F%2BwahIZB4vKnqZf0qJpNIql%2Fv8TU0cNl5rbyc3w0QnTp3y2LTaJ7M1NaxDr2fRn1SpPG6Gia21tfE34TcaOay1iMUVOQFbFYqIWSo1W8TiAVanC0evXOEB7Wp14HFb22zE5fqLOC5ERLQWidNaNI4uEcc9i7hcJldHh2NWrQ5gDdbOlpaumIuLb2atAQDPnz0b8NbWcmxVVRJ3HmxpScwwzOJmKDRGe8LlCZDLG9g7TInV1Ql7dbXbV1e3gT0WKirCFomkPyvwXFlZGJOjV6%2BSt64uudDZOU5EUcox%2FMEQDVvt6MbcN27Y3Ayzhv3spaUrB6Z9qrJSO19ezj8p2pLBkJy%2BcCHJxWI5gW5tcfRRz1dU19GfGkou9PZO4smR9jGFwpex4Dy3bvnmKypotbU13VidjqYZhrj49rvMEt%2F%2FYqLz9d00NjW%2Fczgyo9O51zs6aNlo5FDtu0DZgQFhlGXJ0dBADoNhd6uvp6Whoayg7N9LVGH8mD4b%2FHnftUQoNG4vLQ0gixMqlW%2B4qOjtNHDg3r1f6YiRSGxRy7UvqLb9U4qkqnxPONva5lDpHr1%2ByyKRNKWBZy5edMUHB2m5ry%2B%2BEQw%2Bzgf4zo9%2F0ocN3WRzLBw4J%2BJyPWCrqmIgGYtUOsWD4oxZFQoPUjGpVHqI4%2FafkQPC6fZQeeM1%2BvLuIQnjuBWQDDCscrmHP9eoNPAtBqfOnXuaK%2Bh6JEbGrs%2BpvvMmxeIbh863abVPeYySEo9FJHpNMFJY%2BP5cWZkfg7O1tSwYCeSQLTY3E8Q09%2FBVPJUlxQjshT1BscCY02r9UDUBfvCHB66pcfPA3lyAe3ngr3%2F47XDgaJzsly7xwA6NZtlUUPCuAHqaSjUIP%2Bsue8BRWAC%2FNfQ7JZPZ59s0Gj7VtpISz4hQ%2BCpfXGMKhZcvLpUKxfWM8ohvf7p%2FODjHBfcVF8Isk82g1FHykcVFE%2BUZAAX47aE%2FMl4PO50Pnuh0%2Fx4nmcyWPsdwDhBx6CmkLV%2FgFDjYKxOJOFtb0wQyIhL9RyCwK3AOfIGp1YFEBhnMJcLRWEbKdKQoU6ncTZkIEDicAy%2F81dVuEM5RwPfey4xOx0Ik%2FI2NnFki%2BWafOoFIYFcgYZCyxd7eCUjbc4AmF65ft%2FkMhk3o%2B5hc7sMJyqjJEGvYFaQFIr7Y0wPw8BFAY%2B6%2Bvmk3w6zzRuDMmZVRsfh8RtA0uETSD7uCBT6DYQN6iveU0fpkYLjE6qrVrtOxeNKU9THLZJ9kBU2JBsBhV5AivB%2FoKaQNKgPCBwDYaIfZC4adThOqF4WENViLJwVoXobfLBKVw67AOaTsLc65TaVK21vQ4La99eKcYg5vbxsbObzTQ9N7UKDgUO1wDjiDIIBshh5ztg39nQMLSZBH4OzBOUDEQXm206d3fcLgswbXQA4PhcK3nhswU1Bz8wvQ09RHG%2FoYy3ejfwBNmtoYqLA0XgAAAABJRU5ErkJggg%3D%3D&amp;label=UpdatedAt\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>CreatedAt</strong></td>\n<td align=\"left\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/d0ae481434e1e7ba0178cd14df724d3ae55bad29c0071b87bb6ed5f683ac6722/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f637265617465642d61742f66617465646965722f6672703f6c6f676f3d64617461253341696d616765253246706e672533426261736536342532436956424f5277304b47676f414141414e5355684555674141414234414141416543415941414141374d4b3669414141414358424957584d41414173544141414c457745416d7077594141414648556c45515652346e4c5658375539615678776d3236646c582532466468627825324232253246516e626b7655627264554151674a4a496655444e574454546d4f76314651554661504a346b7573725630314a7431734e70637453327533626f745a746d786439744a5346536f714b71494635625944464c436f76436c656673747a4a387758524c445a4c7a6e6b634f343535376e3364332532466e655a3472454f515a74315771462532423858467234253242664f4c4565326a6f59307a776638546f795a50766a45676b4c592532426b306d6d72584f36644b696e787a476b30666a5430782532425279723055716e6359637a4d317263347451253242497270324c4758646f344e4334567657715453373277716c632532427231334f527269364b6458646e624f484c6c776c7a4a70524b6e3657342532424b36706f4f434e6e494166486a253246253242776168495a4234764b6e715a6630714a704e49716c2532467638545530634e6c3572627963337730516e54703379324c54614a374d314e617844723266526e315370504736476961323174664533345463614f617931694d55564f5146624659714957536f31573854694156616e43306576584f4542375770313448466232327a453566714c4f433545524c515769644e614e49347545636339693768634a6c644868324e57725135674464624f6c7061756d49754c62326174415144506e7a3062384e6257636d785656524a33486d7870536377777a4f4a6d4b44524765384c6c435a444c4739673754496e5631516c376462586256316533675430574b697243466f6d6b5079767758466c5a474a4f6a563625324253743634757564445a4f55354555636f782532464d455144567674364d62634e3237593341797a687633737061557242365a3971724a534f3139657a6a387032704c426b4a792532426343484a7857493567573574636652527a31645531394766476b6f7539505a4f34736d52396a4746777065783444793362766e6d4b79706f74625531335669646a71595a68726a343972764d457425324625324659714c7a396430304e6a57253246637a67796f394f35317a7336614e6c6f354644747530445a675146686c47584a30644241446f4e6864367576703657686f617967374e394c564748386d443462253246486e667455516f4e4734764c51306769784d716c5725324234714f6a744e48446733723166365969525347785279375576714c62395534716b716e78504f4e7661356c447048723125324279794b524e4b57425a793565644d554842326d3572792532422532424551772532427a6766347a6f39253246306f634e3357527a4c4277344a2532424a7950574372716d4967475974554f735744346f785a46516f50556a4770564871493425324661666b51504336665a5165654d31253242764c7549516e6a754257514444437363726d485039656f4e5041744271664f6e5875614b25324268364a45624772732532427076764d6d78654962683836336162565065597953456f39464a48704e4d464a59253242503563575a6b6667374f3174537759436553514c54593345385130392532464256504a556c78516a7368543142736343593032723955445542667643484236367063665041336c794165336e6772332532463437584467614a7a736c7937787741364e5a746c555550437541487161536a5549502532427375653842525741432532464e6651374a5a505a35397330476a3756747049537a34685125324243706658474d4b685a63764c70554b7866574d386f68766637702532464f446a4842666356463849736b383267314648796b63564645253242555a414158343761452532464d6c34504f3530506e75683025324678346e6d637957507364774468427836436d6b4c562532466746446a594b784f4a4f4674623077517949684c39527943774b33414f664947703159464542686e4d4a634c525745624b644b516f55366e63545a6b494544696341792532463831645675454d3552775066657934784f7830496b25324649324e6e466b692532425761664f6f464959466367595a43797864376543556a626334416d46363566742532466b4d686b336f25324235686337734d4a79716a4a45477659466151464972375930775077384246415925324236253242766d6b3377367a7a5275444d6d5a5652736668385274413075455453443775434254364459514e36697665553066706b594c6a453671725672744f78654e4b553954484c5a4a396b4255324a427342685635416976422532466f4b61514e4b675043427744596149665a4334616454684f71463457454e56694c4a77566f586f62664c424b56773637414f6154734c6336355461564b32317651344c613939654b6359673576627873624f627a5451394e37554b4467554f3177446a6944494942736868357a746733396e514d4c535a4248344f7a424f55444551586d323036643366634c67737762585141345068634b336e6873775531427a3877765130395248472532466f597933656a6677424e6d746f59714c4130586741414141424a52553545726b4a676767253344253344266c6162656c3d437265617465644174\" alt=\"create-at\" data-canonical-src=\"https://img.shields.io/github/created-at/fatedier/frp?logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHUlEQVR4nLVX7U9aVxwm26dlX%2Fdhbx%2B2%2FQnbkvUbrdUAQgJJIfUDNWDTTmOv1FQUFaPJ4kusrV01Jt1sNpctS2u3botZtmxd9tJSFSoqKqIF5bYDFLCovClefstzJ8wXRLDZLznkcO4557n3d3%2FneZ4rEOQZt1WqF%2B8XFr4%2BfOLEe2joY0zwf8ToyZPvjEgkLY%2Bk0mmrXO6dKinxzGk0fjT0x%2BRyr0UqncYczM1rc4tQ%2BIrp2LGXdo4NC4VvWqTS72wqlc%2Br13ORri6KdXdnbOHLlwlzJpRKn6W4%2BK6poOCNnIAfHj%2F%2BwahIZB4vKnqZf0qJpNIql%2Fv8TU0cNl5rbyc3w0QnTp3y2LTaJ7M1NaxDr2fRn1SpPG6Gia21tfE34TcaOay1iMUVOQFbFYqIWSo1W8TiAVanC0evXOEB7Wp14HFb22zE5fqLOC5ERLQWidNaNI4uEcc9i7hcJldHh2NWrQ5gDdbOlpaumIuLb2atAQDPnz0b8NbWcmxVVRJ3HmxpScwwzOJmKDRGe8LlCZDLG9g7TInV1Ql7dbXbV1e3gT0WKirCFomkPyvwXFlZGJOjV6%2BSt64uudDZOU5EUcox%2FMEQDVvt6MbcN27Y3Ayzhv3spaUrB6Z9qrJSO19ezj8p2pLBkJy%2BcCHJxWI5gW5tcfRRz1dU19GfGkou9PZO4smR9jGFwpex4Dy3bvnmKypotbU13VidjqYZhrj49rvMEt%2F%2FYqLz9d00NjW%2Fczgyo9O51zs6aNlo5FDtu0DZgQFhlGXJ0dBADoNhd6uvp6Whoayg7N9LVGH8mD4b%2FHnftUQoNG4vLQ0gixMqlW%2B4qOjtNHDg3r1f6YiRSGxRy7UvqLb9U4qkqnxPONva5lDpHr1%2ByyKRNKWBZy5edMUHB2m5ry%2B%2BEQw%2Bzgf4zo9%2F0ocN3WRzLBw4J%2BJyPWCrqmIgGYtUOsWD4oxZFQoPUjGpVHqI4%2FafkQPC6fZQeeM1%2BvLuIQnjuBWQDDCscrmHP9eoNPAtBqfOnXuaK%2Bh6JEbGrs%2BpvvMmxeIbh863abVPeYySEo9FJHpNMFJY%2BP5cWZkfg7O1tSwYCeSQLTY3E8Q09%2FBVPJUlxQjshT1BscCY02r9UDUBfvCHB66pcfPA3lyAe3ngr3%2F47XDgaJzsly7xwA6NZtlUUPCuAHqaSjUIP%2Bsue8BRWAC%2FNfQ7JZPZ59s0Gj7VtpISz4hQ%2BCpfXGMKhZcvLpUKxfWM8ohvf7p%2FODjHBfcVF8Isk82g1FHykcVFE%2BUZAAX47aE%2FMl4PO50Pnuh0%2Fx4nmcyWPsdwDhBx6CmkLV%2FgFDjYKxOJOFtb0wQyIhL9RyCwK3AOfIGp1YFEBhnMJcLRWEbKdKQoU6ncTZkIEDicAy%2F81dVuEM5RwPfey4xOx0Ik%2FI2NnFki%2BWafOoFIYFcgYZCyxd7eCUjbc4AmF65ft%2FkMhk3o%2B5hc7sMJyqjJEGvYFaQFIr7Y0wPw8BFAY%2B6%2Bvmk3w6zzRuDMmZVRsfh8RtA0uETSD7uCBT6DYQN6iveU0fpkYLjE6qrVrtOxeNKU9THLZJ9kBU2JBsBhV5AivB%2FoKaQNKgPCBwDYaIfZC4adThOqF4WENViLJwVoXobfLBKVw67AOaTsLc65TaVK21vQ4La99eKcYg5vbxsbObzTQ9N7UKDgUO1wDjiDIIBshh5ztg39nQMLSZBH4OzBOUDEQXm206d3fcLgswbXQA4PhcK3nhswU1Bz8wvQ09RHG%2FoYy3ejfwBNmtoYqLA0XgAAAABJRU5ErkJggg%3D%3D&amp;label=CreatedAt\" style=\"max-width: 100%;\"></a></td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<a href=\"https://github.com/opsre/awesome-ops\">\n</a><p dir=\"auto\"><a href=\"https://github.com/opsre/awesome-ops\"><img src=\"https://camo.githubusercontent.com/b964a36ea4078c39f603d46a29436371c7541a2f26e0228d7b21b9d9805b43d3/68747470733a2f2f736f6369616c6966792e6769742e63692f6f707372652f617765736f6d652d6f70732f696d6167653f6465736372697074696f6e3d3126666f6e743d42697474657226666f726b733d31266973737565733d31266c616e67756167653d31266c6f676f3d6874747073253341253246253246617661746172732e67697468756275736572636f6e74656e742e636f6d25324675253246313838353638303230266e616d653d31266f776e65723d31267061747465726e3d436972637569742b426f6172642670756c6c733d31267374617267617a6572733d31267468656d653d4c69676874\" alt=\"\" data-canonical-src=\"https://socialify.git.ci/opsre/awesome-ops/image?description=1&amp;font=Bitter&amp;forks=1&amp;issues=1&amp;language=1&amp;logo=https%3A%2F%2Favatars.githubusercontent.com%2Fu%2F188568020&amp;name=1&amp;owner=1&amp;pattern=Circuit+Board&amp;pulls=1&amp;stargazers=1&amp;theme=Light\" style=\"max-width: 100%;\"></a></p>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/a15b413168923d02e21292705ceaf86b92675f98e250c5c896a02ba7504a6eae/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f657279616a662f7475406d61696e2f696d672f696d6167655f32303234303432305f3231343430382e676966\"><img src=\"https://camo.githubusercontent.com/a15b413168923d02e21292705ceaf86b92675f98e250c5c896a02ba7504a6eae/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f657279616a662f7475406d61696e2f696d672f696d6167655f32303234303432305f3231343430382e676966\" width=\"100%\" height=\"3\" data-animated-image=\"\" data-canonical-src=\"https://cdn.jsdelivr.net/gh/eryajf/tu@main/img/image_20240420_214408.gif\" style=\"max-width: 100%; height: auto; max-height: 3px;\"></a>\n</div>\n<h1 dir=\"auto\">frp</h1>\n<p dir=\"auto\"><a href=\"https://circleci.com/gh/fatedier/frp\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/246fe4e4513dbb4b8c109303d9af8a294648ed65979c4102e06c2b95dea0809b/68747470733a2f2f636972636c6563692e636f6d2f67682f66617465646965722f6672702e7376673f7374796c653d736869656c64\" alt=\"Build Status\" data-canonical-src=\"https://circleci.com/gh/fatedier/frp.svg?style=shield\" style=\"max-width: 100%;\"></a><br>\n<a href=\"https://github.com/fatedier/frp/releases\"><img src=\"https://camo.githubusercontent.com/6ce432f679bb719b324565e28323ea610b77939de0d0a81feb34715adb69a19f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7461672f66617465646965722f6672702e7376673f6c6162656c3d72656c65617365\" alt=\"GitHub release\" data-canonical-src=\"https://img.shields.io/github/tag/fatedier/frp.svg?label=release\" style=\"max-width: 100%;\"></a><br>\n<a href=\"https://goreportcard.com/report/github.com/fatedier/frp\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/3a9acdaa0ecfad0f732797b3f8eb903de639d84f238ef84a879373761fe5b433/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f66617465646965722f667270\" alt=\"Go Report Card\" data-canonical-src=\"https://goreportcard.com/badge/github.com/fatedier/frp\" style=\"max-width: 100%;\"></a><br>\n<a href=\"https://somsubhra.github.io/github-release-stats/?username=fatedier&amp;repository=frp\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/511f7f01cae67e6872f2820cce7317a111df0d6243a13600612d173ee7f89b30/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f66617465646965722f6672702f746f74616c2e7376673f6c6f676f3d676974687562\" alt=\"GitHub Releases Stats\" data-canonical-src=\"https://img.shields.io/github/downloads/fatedier/frp/total.svg?logo=github\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a href=\"README.md\">README</a> | <a href=\"README_zh.md\">中文文档</a></p>\n<h2 dir=\"auto\">Sponsors</h2>\n<p dir=\"auto\">frp is an open source project with its ongoing development made possible entirely by the support of our awesome sponsors. If you'd like to join them, please consider <a href=\"https://github.com/sponsors/fatedier\">sponsoring frp's development</a>.</p>\n<h3 align=\"center\" dir=\"auto\">Gold Sponsors</h3>\n\n<p align=\"center\" dir=\"auto\">\n  <a href=\"https://jb.gg/frp\" rel=\"nofollow\">\n    <img width=\"420px\" src=\"https://raw.githubusercontent.com/fatedier/frp/dev/doc/pic/sponsor_jetbrains.jpg\" style=\"max-width: 100%;\">\n  </a>\n</p>\n<p align=\"center\" dir=\"auto\">\n  <a href=\"https://github.com/daytonaio/daytona\">\n    <img width=\"420px\" src=\"https://raw.githubusercontent.com/fatedier/frp/dev/doc/pic/sponsor_daytona.png\" style=\"max-width: 100%;\">\n  </a>\n</p>\n<p align=\"center\" dir=\"auto\">\n  <a href=\"https://github.com/beclab/Olares\">\n    <img width=\"420px\" src=\"https://raw.githubusercontent.com/fatedier/frp/dev/doc/pic/sponsor_olares.jpeg\" style=\"max-width: 100%;\">\n  </a>\n</p>\n\n<h2 dir=\"auto\">What is frp?</h2>\n<p dir=\"auto\">frp is a fast reverse proxy that allows you to expose a local server located behind a NAT or firewall to the Internet. It currently supports <strong>TCP</strong> and <strong>UDP</strong>, as well as <strong>HTTP</strong> and <strong>HTTPS</strong> protocols, enabling requests to be forwarded to internal services via domain name.</p>\n<p dir=\"auto\">frp also offers a P2P connect mode.</p>\n<h2 dir=\"auto\">Table of Contents</h2>\n\n<ul dir=\"auto\">\n<li><a href=\"#development-status\">Development Status</a>\n<ul dir=\"auto\">\n<li><a href=\"#about-v2\">About V2</a></li>\n</ul>\n</li>\n<li><a href=\"#architecture\">Architecture</a></li>\n<li><a href=\"#example-usage\">Example Usage</a>\n<ul dir=\"auto\">\n<li><a href=\"#access-your-computer-in-a-lan-network-via-ssh\">Access your computer in a LAN network via SSH</a></li>\n<li><a href=\"#multiple-ssh-services-sharing-the-same-port\">Multiple SSH services sharing the same port</a></li>\n<li><a href=\"#accessing-internal-web-services-with-custom-domains-in-lan\">Accessing Internal Web Services with Custom Domains in LAN</a></li>\n<li><a href=\"#forward-dns-query-requests\">Forward DNS query requests</a></li>\n<li><a href=\"#forward-unix-domain-socket\">Forward Unix Domain Socket</a></li>\n<li><a href=\"#expose-a-simple-http-file-server\">Expose a simple HTTP file server</a></li>\n<li><a href=\"#enable-https-for-a-local-https-service\">Enable HTTPS for a local HTTP(S) service</a></li>\n<li><a href=\"#expose-your-service-privately\">Expose your service privately</a></li>\n<li><a href=\"#p2p-mode\">P2P Mode</a></li>\n</ul>\n</li>\n<li><a href=\"#features\">Features</a>\n<ul dir=\"auto\">\n<li><a href=\"#configuration-files\">Configuration Files</a></li>\n<li><a href=\"#using-environment-variables\">Using Environment Variables</a></li>\n<li><a href=\"#split-configures-into-different-files\">Split Configures Into Different Files</a></li>\n<li><a href=\"#server-dashboard\">Server Dashboard</a></li>\n<li><a href=\"#client-admin-ui\">Client Admin UI</a></li>\n<li><a href=\"#monitor\">Monitor</a>\n<ul dir=\"auto\">\n<li><a href=\"#prometheus\">Prometheus</a></li>\n</ul>\n</li>\n<li><a href=\"#authenticating-the-client\">Authenticating the Client</a>\n<ul dir=\"auto\">\n<li><a href=\"#token-authentication\">Token Authentication</a></li>\n<li><a href=\"#oidc-authentication\">OIDC Authentication</a></li>\n</ul>\n</li>\n<li><a href=\"#encryption-and-compression\">Encryption and Compression</a>\n<ul dir=\"auto\">\n<li><a href=\"#tls\">TLS</a></li>\n</ul>\n</li>\n<li><a href=\"#hot-reloading-frpc-configuration\">Hot-Reloading frpc configuration</a></li>\n<li><a href=\"#get-proxy-status-from-client\">Get proxy status from client</a></li>\n<li><a href=\"#only-allowing-certain-ports-on-the-server\">Only allowing certain ports on the server</a></li>\n<li><a href=\"#port-reuse\">Port Reuse</a></li>\n<li><a href=\"#bandwidth-limit\">Bandwidth Limit</a>\n<ul dir=\"auto\">\n<li><a href=\"#for-each-proxy\">For Each Proxy</a></li>\n</ul>\n</li>\n<li><a href=\"#tcp-stream-multiplexing\">TCP Stream Multiplexing</a></li>\n<li><a href=\"#support-kcp-protocol\">Support KCP Protocol</a></li>\n<li><a href=\"#support-quic-protocol\">Support QUIC Protocol</a></li>\n<li><a href=\"#connection-pooling\">Connection Pooling</a></li>\n<li><a href=\"#load-balancing\">Load balancing</a></li>\n<li><a href=\"#service-health-check\">Service Health Check</a></li>\n<li><a href=\"#rewriting-the-http-host-header\">Rewriting the HTTP Host Header</a></li>\n<li><a href=\"#setting-other-http-headers\">Setting other HTTP Headers</a></li>\n<li><a href=\"#get-real-ip\">Get Real IP</a>\n<ul dir=\"auto\">\n<li><a href=\"#http-x-forwarded-for\">HTTP X-Forwarded-For</a></li>\n<li><a href=\"#proxy-protocol\">Proxy Protocol</a></li>\n</ul>\n</li>\n<li><a href=\"#require-http-basic-auth-password-for-web-services\">Require HTTP Basic Auth (Password) for Web Services</a></li>\n<li><a href=\"#custom-subdomain-names\">Custom Subdomain Names</a></li>\n<li><a href=\"#url-routing\">URL Routing</a></li>\n<li><a href=\"#tcp-port-multiplexing\">TCP Port Multiplexing</a></li>\n<li><a href=\"#connecting-to-frps-via-proxy\">Connecting to frps via PROXY</a></li>\n<li><a href=\"#port-range-mapping\">Port range mapping</a></li>\n<li><a href=\"#client-plugins\">Client Plugins</a></li>\n<li><a href=\"#server-manage-plugins\">Server Manage Plugins</a></li>\n<li><a href=\"#ssh-tunnel-gateway\">SSH Tunnel Gateway</a></li>\n<li><a href=\"#virtual-network-virtualnet\">Virtual Network (VirtualNet)</a></li>\n</ul>\n</li>\n<li><a href=\"#feature-gates\">Feature Gates</a>\n<ul dir=\"auto\">\n<li><a href=\"#available-feature-gates\">Available Feature Gates</a></li>\n<li><a href=\"#enabling-feature-gates\">Enabling Feature Gates</a></li>\n<li><a href=\"#feature-lifecycle\">Feature Lifecycle</a></li>\n</ul>\n</li>\n<li><a href=\"#related-projects\">Related Projects</a></li>\n<li><a href=\"#contributing\">Contributing</a></li>\n<li><a href=\"#donation\">Donation</a>\n<ul dir=\"auto\">\n<li><a href=\"#github-sponsors\">GitHub Sponsors</a></li>\n<li><a href=\"#paypal\">PayPal</a></li>\n</ul>\n</li>\n</ul>\n\n<h2 dir=\"auto\">Development Status</h2>\n<p dir=\"auto\">frp is currently under development. You can try the latest release version in the <code class=\"notranslate\">master</code> branch, or use the <code class=\"notranslate\">dev</code> branch to access the version currently in development.</p>\n<p dir=\"auto\">We are currently working on version 2 and attempting to perform some code refactoring and improvements. However, please note that it will not be compatible with version 1.</p>\n<p dir=\"auto\">We will transition from version 0 to version 1 at the appropriate time and will only accept bug fixes and improvements, rather than big feature requests.</p>\n<h3 dir=\"auto\">About V2</h3>\n<p dir=\"auto\">The complexity and difficulty of the v2 version are much higher than anticipated. I can only work on its development during fragmented time periods, and the constant interruptions disrupt productivity significantly. Given this situation, we will continue to optimize and iterate on the current version until we have more free time to proceed with the major version overhaul.</p>\n<p dir=\"auto\">The concept behind v2 is based on my years of experience and reflection in the cloud-native domain, particularly in K8s and ServiceMesh. Its core is a modernized four-layer and seven-layer proxy, similar to envoy. This proxy itself is highly scalable, not only capable of implementing the functionality of intranet penetration but also applicable to various other domains. Building upon this highly scalable core, we aim to implement all the capabilities of frp v1 while also addressing the functionalities that were previously unachievable or difficult to implement in an elegant manner. Furthermore, we will maintain efficient development and iteration capabilities.</p>\n<p dir=\"auto\">In addition, I envision frp itself becoming a highly extensible system and platform, similar to how we can provide a range of extension capabilities based on K8s. In K8s, we can customize development according to enterprise needs, utilizing features such as CRD, controller mode, webhook, CSI, and CNI. In frp v1, we introduced the concept of server plugins, which implemented some basic extensibility. However, it relies on a simple HTTP protocol and requires users to start independent processes and manage them on their own. This approach is far from flexible and convenient, and real-world demands vary greatly. It is unrealistic to expect a non-profit open-source project maintained by a few individuals to meet everyone's needs.</p>\n<p dir=\"auto\">Finally, we acknowledge that the current design of modules such as configuration management, permission verification, certificate management, and API management is not modern enough. While we may carry out some optimizations in the v1 version, ensuring compatibility remains a challenging issue that requires a considerable amount of effort to address.</p>\n<p dir=\"auto\">We sincerely appreciate your support for frp.</p>\n<h2 dir=\"auto\">Architecture</h2>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/doc/pic/architecture.png\"><img src=\"/doc/pic/architecture.png\" alt=\"architecture\" style=\"max-width: 100%;\"></a></p>\n<h2 dir=\"auto\">Example Usage</h2>\n<p dir=\"auto\">To begin, download the latest program for your operating system and architecture from the <a href=\"https://github.com/fatedier/frp/releases\">Release</a> page.</p>\n<p dir=\"auto\">Next, place the <code class=\"notranslate\">frps</code> binary and server configuration file on Server A, which has a public IP address.</p>\n<p dir=\"auto\">Finally, place the <code class=\"notranslate\">frpc</code> binary and client configuration file on Server B, which is located on a LAN that cannot be directly accessed from the public internet.</p>\n<p dir=\"auto\">Some antiviruses improperly mark frpc as malware and delete it. This is due to frp being a networking tool capable of creating reverse proxies. Antiviruses sometimes flag reverse proxies due to their ability to bypass firewall port restrictions. If you are using antivirus, then you may need to whitelist/exclude frpc in your antivirus settings to avoid accidental quarantine/deletion. See <a href=\"https://github.com/fatedier/frp/issues/3637\" data-hovercard-type=\"issue\" data-hovercard-url=\"/fatedier/frp/issues/3637/hovercard\">issue 3637</a> for more details.</p>\n<h3 dir=\"auto\">Access your computer in a LAN network via SSH</h3>\n<ol dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frps.toml</code> on server A by setting the <code class=\"notranslate\">bindPort</code> for frp clients to connect to:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Start <code class=\"notranslate\">frps</code> on server A:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frps -c ./frps.toml</code></p>\n<ol start=\"3\" dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frpc.toml</code> on server B and set the <code class=\"notranslate\">serverAddr</code> field to the public IP address of your frps server:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;ssh&quot;\ntype = &quot;tcp&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\nremotePort = 6000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span></pre></div>\n<p dir=\"auto\">Note that the <code class=\"notranslate\">localPort</code> (listened on the client) and <code class=\"notranslate\">remotePort</code> (exposed on the server) are used for traffic going in and out of the frp system, while the <code class=\"notranslate\">serverPort</code> is used for communication between frps and frpc.</p>\n<ol start=\"4\" dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> on server B:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frpc -c ./frpc.toml</code></p>\n<ol start=\"5\" dir=\"auto\">\n<li>To access server B from another machine through server A via SSH (assuming the username is <code class=\"notranslate\">test</code>), use the following command:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">ssh -oPort=6000 test@x.x.x.x</code></p>\n<h3 dir=\"auto\">Multiple SSH services sharing the same port</h3>\n<p dir=\"auto\">This example implements multiple SSH services exposed through the same port using a proxy of type tcpmux. Similarly, as long as the client supports the HTTP Connect proxy connection method, port reuse can be achieved in this way.</p>\n<ol dir=\"auto\">\n<li>Deploy frps on a machine with a public IP and modify the frps.toml file. Here is a simplified configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bindPort = 7000\ntcpmuxHTTPConnectPort = 5002\"><pre class=\"notranslate\"><span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">tcpmuxHTTPConnectPort</span> = <span class=\"pl-c1\">5002</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Deploy frpc on the internal machine A with the following configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"serverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;ssh1&quot;\ntype = &quot;tcpmux&quot;\nmultiplexer = &quot;httpconnect&quot;\ncustomDomains = [&quot;machine-a.example.com&quot;]\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\"><pre class=\"notranslate\"><span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcpmux<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">multiplexer</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpconnect<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>machine-a.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span></pre></div>\n<ol start=\"3\" dir=\"auto\">\n<li>Deploy another frpc on the internal machine B with the following configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"serverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;ssh2&quot;\ntype = &quot;tcpmux&quot;\nmultiplexer = &quot;httpconnect&quot;\ncustomDomains = [&quot;machine-b.example.com&quot;]\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\"><pre class=\"notranslate\"><span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh2<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcpmux<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">multiplexer</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpconnect<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>machine-b.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span></pre></div>\n<ol start=\"4\" dir=\"auto\">\n<li>To access internal machine A using SSH ProxyCommand, assuming the username is \"test\":</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">ssh -o 'proxycommand socat - PROXY:x.x.x.x:%h:%p,proxyport=5002' test@machine-a.example.com</code></p>\n<ol start=\"5\" dir=\"auto\">\n<li>To access internal machine B, the only difference is the domain name, assuming the username is \"test\":</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">ssh -o 'proxycommand socat - PROXY:x.x.x.x:%h:%p,proxyport=5002' test@machine-b.example.com</code></p>\n<h3 dir=\"auto\">Accessing Internal Web Services with Custom Domains in LAN</h3>\n<p dir=\"auto\">Sometimes we need to expose a local web service behind a NAT network to others for testing purposes with our own domain name.</p>\n<p dir=\"auto\">Unfortunately, we cannot resolve a domain name to a local IP. However, we can use frp to expose an HTTP(S) service.</p>\n<ol dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frps.toml</code> and set the HTTP port for vhost to 8080:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\nvhostHTTPPort = 8080\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">vhostHTTPPort</span> = <span class=\"pl-c1\">8080</span></pre></div>\n<p dir=\"auto\">If you want to configure an https proxy, you need to set up the <code class=\"notranslate\">vhostHTTPSPort</code>.</p>\n<ol start=\"2\" dir=\"auto\">\n<li>Start <code class=\"notranslate\">frps</code>:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frps -c ./frps.toml</code></p>\n<ol start=\"3\" dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frpc.toml</code> and set <code class=\"notranslate\">serverAddr</code> to the IP address of the remote frps server. Specify the <code class=\"notranslate\">localPort</code> of your web service:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalPort = 80\ncustomDomains = [&quot;www.example.com&quot;]\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>www.example.com<span class=\"pl-pds\">\"</span></span>]</pre></div>\n<ol start=\"4\" dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code>:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frpc -c ./frpc.toml</code></p>\n<ol start=\"5\" dir=\"auto\">\n<li>\n<p dir=\"auto\">Map the A record of <code class=\"notranslate\">www.example.com</code> to either the public IP of the remote frps server or a CNAME record pointing to your original domain.</p>\n</li>\n<li>\n<p dir=\"auto\">Visit your local web service using url <code class=\"notranslate\">http://www.example.com:8080</code>.</p>\n</li>\n</ol>\n<h3 dir=\"auto\">Forward DNS query requests</h3>\n<ol dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frps.toml</code>:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Start <code class=\"notranslate\">frps</code>:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frps -c ./frps.toml</code></p>\n<ol start=\"3\" dir=\"auto\">\n<li>Modify <code class=\"notranslate\">frpc.toml</code> and set <code class=\"notranslate\">serverAddr</code> to the IP address of the remote frps server. Forward DNS query requests to the Google Public DNS server <code class=\"notranslate\">8.8.8.8:53</code>:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;dns&quot;\ntype = &quot;udp&quot;\nlocalIP = &quot;8.8.8.8&quot;\nlocalPort = 53\nremotePort = 6000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dns<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>udp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>8.8.8.8<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">53</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span></pre></div>\n<ol start=\"4\" dir=\"auto\">\n<li>Start frpc:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">./frpc -c ./frpc.toml</code></p>\n<ol start=\"5\" dir=\"auto\">\n<li>Test DNS resolution using the <code class=\"notranslate\">dig</code> command:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">dig @x.x.x.x -p 6000 www.google.com</code></p>\n<h3 dir=\"auto\">Forward Unix Domain Socket</h3>\n<p dir=\"auto\">Expose a Unix domain socket (e.g. the Docker daemon socket) as TCP.</p>\n<p dir=\"auto\">Configure <code class=\"notranslate\">frps</code> as above.</p>\n<ol dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> with the following configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;unix_domain_socket&quot;\ntype = &quot;tcp&quot;\nremotePort = 6000\n[proxies.plugin]\ntype = &quot;unix_domain_socket&quot;\nunixPath = &quot;/var/run/docker.sock&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unix_domain_socket<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n[<span class=\"pl-en\">proxies</span>.<span class=\"pl-en\">plugin</span>]\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unix_domain_socket<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">unixPath</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/var/run/docker.sock<span class=\"pl-pds\">\"</span></span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Test the configuration by getting the docker version using <code class=\"notranslate\">curl</code>:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">curl http://x.x.x.x:6000/version</code></p>\n<h3 dir=\"auto\">Expose a simple HTTP file server</h3>\n<p dir=\"auto\">Expose a simple HTTP file server to access files stored in the LAN from the public Internet.</p>\n<p dir=\"auto\">Configure <code class=\"notranslate\">frps</code> as described above, then:</p>\n<ol dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> with the following configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;test_static_file&quot;\ntype = &quot;tcp&quot;\nremotePort = 6000\n[proxies.plugin]\ntype = &quot;static_file&quot;\nlocalPath = &quot;/tmp/files&quot;\nstripPrefix = &quot;static&quot;\nhttpUser = &quot;abc&quot;\nhttpPassword = &quot;abc&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test_static_file<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n[<span class=\"pl-en\">proxies</span>.<span class=\"pl-en\">plugin</span>]\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>static_file<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPath</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/tmp/files<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">stripPrefix</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>static<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">httpUser</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">httpPassword</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Visit <code class=\"notranslate\">http://x.x.x.x:6000/static/</code> from your browser and specify correct username and password to view files in <code class=\"notranslate\">/tmp/files</code> on the <code class=\"notranslate\">frpc</code> machine.</li>\n</ol>\n<h3 dir=\"auto\">Enable HTTPS for a local HTTP(S) service</h3>\n<p dir=\"auto\">You may substitute <code class=\"notranslate\">https2https</code> for the plugin, and point the <code class=\"notranslate\">localAddr</code> to a HTTPS endpoint.</p>\n<ol dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> with the following configuration:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;test_https2http&quot;\ntype = &quot;https&quot;\ncustomDomains = [&quot;test.example.com&quot;]\n\n[proxies.plugin]\ntype = &quot;https2http&quot;\nlocalAddr = &quot;127.0.0.1:80&quot;\ncrtPath = &quot;./server.crt&quot;\nkeyPath = &quot;./server.key&quot;\nhostHeaderRewrite = &quot;127.0.0.1&quot;\nrequestHeaders.set.x-from-where = &quot;frp&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test_https2http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n\n[<span class=\"pl-en\">proxies</span>.<span class=\"pl-en\">plugin</span>]\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https2http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1:80<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">crtPath</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./server.crt<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">keyPath</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./server.key<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">hostHeaderRewrite</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">requestHeaders.set.x-from-where</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>frp<span class=\"pl-pds\">\"</span></span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Visit <code class=\"notranslate\">https://test.example.com</code>.</li>\n</ol>\n<h3 dir=\"auto\">Expose your service privately</h3>\n<p dir=\"auto\">To mitigate risks associated with exposing certain services directly to the public network, STCP (Secret TCP) mode requires a preshared key to be used for access to the service from other clients.</p>\n<p dir=\"auto\">Configure <code class=\"notranslate\">frps</code> same as above.</p>\n<ol dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> on machine B with the following config. This example is for exposing the SSH service (port 22), and note the <code class=\"notranslate\">secretKey</code> field for the preshared key, and that the <code class=\"notranslate\">remotePort</code> field is removed here:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;secret_ssh&quot;\ntype = &quot;stcp&quot;\nsecretKey = &quot;abcdefg&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secret_ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">secretKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abcdefg<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Start another <code class=\"notranslate\">frpc</code> (typically on another machine C) with the following config to access the SSH service with a security key (<code class=\"notranslate\">secretKey</code> field):</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[visitors]]\nname = &quot;secret_ssh_visitor&quot;\ntype = &quot;stcp&quot;\nserverName = &quot;secret_ssh&quot;\nsecretKey = &quot;abcdefg&quot;\nbindAddr = &quot;127.0.0.1&quot;\nbindPort = 6000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">visitors</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secret_ssh_visitor<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>stcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverName</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>secret_ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">secretKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abcdefg<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">bindAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">6000</span></pre></div>\n<ol start=\"3\" dir=\"auto\">\n<li>On machine C, connect to SSH on machine B, using this command:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">ssh -oPort=6000 127.0.0.1</code></p>\n<h3 dir=\"auto\">P2P Mode</h3>\n<p dir=\"auto\"><strong>xtcp</strong> is designed to transmit large amounts of data directly between clients. A frps server is still needed, as P2P here only refers to the actual data transmission.</p>\n<p dir=\"auto\">Note that it may not work with all types of NAT devices. You might want to fallback to stcp if xtcp doesn't work.</p>\n<ol dir=\"auto\">\n<li>Start <code class=\"notranslate\">frpc</code> on machine B, and expose the SSH port. Note that the <code class=\"notranslate\">remotePort</code> field is removed:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n# set up a new stun server if the default one is not available.\n# natHoleStunServer = &quot;xxx&quot;\n\n[[proxies]]\nname = &quot;p2p_ssh&quot;\ntype = &quot;xtcp&quot;\nsecretKey = &quot;abcdefg&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> set up a new stun server if the default one is not available.</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> natHoleStunServer = \"xxx\"</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>p2p_ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>xtcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">secretKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abcdefg<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Start another <code class=\"notranslate\">frpc</code> (typically on another machine C) with the configuration to connect to SSH using P2P mode:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n# set up a new stun server if the default one is not available.\n# natHoleStunServer = &quot;xxx&quot;\n\n[[visitors]]\nname = &quot;p2p_ssh_visitor&quot;\ntype = &quot;xtcp&quot;\nserverName = &quot;p2p_ssh&quot;\nsecretKey = &quot;abcdefg&quot;\nbindAddr = &quot;127.0.0.1&quot;\nbindPort = 6000\n# when automatic tunnel persistence is required, set it to true\nkeepTunnelOpen = false\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> set up a new stun server if the default one is not available.</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> natHoleStunServer = \"xxx\"</span>\n\n[[<span class=\"pl-en\">visitors</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>p2p_ssh_visitor<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>xtcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverName</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>p2p_ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">secretKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abcdefg<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">bindAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">6000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> when automatic tunnel persistence is required, set it to true</span>\n<span class=\"pl-smi\">keepTunnelOpen</span> = <span class=\"pl-c1\">false</span></pre></div>\n<ol start=\"3\" dir=\"auto\">\n<li>On machine C, connect to SSH on machine B, using this command:</li>\n</ol>\n<p dir=\"auto\"><code class=\"notranslate\">ssh -oPort=6000 127.0.0.1</code></p>\n<h2 dir=\"auto\">Features</h2>\n<h3 dir=\"auto\">Configuration Files</h3>\n<p dir=\"auto\">Since v0.52.0, we support TOML, YAML, and JSON for configuration. Please note that INI is deprecated and will be removed in future releases. New features will only be available in TOML, YAML, or JSON. Users wanting these new features should switch their configuration format accordingly.</p>\n<p dir=\"auto\">Read the full example configuration files to find out even more features not described here.</p>\n<p dir=\"auto\">Examples use TOML format, but you can still use YAML or JSON.</p>\n<p dir=\"auto\">These configuration files is for reference only. Please do not use this configuration directly to run the program as it may have various issues.</p>\n<p dir=\"auto\"><a href=\"./conf/frps_full_example.toml\">Full configuration file for frps (Server)</a></p>\n<p dir=\"auto\"><a href=\"./conf/frpc_full_example.toml\">Full configuration file for frpc (Client)</a></p>\n<h3 dir=\"auto\">Using Environment Variables</h3>\n<p dir=\"auto\">Environment variables can be referenced in the configuration file, using Go's standard format:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;{{ .Envs.FRP_SERVER_ADDR }}&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;ssh&quot;\ntype = &quot;tcp&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\nremotePort = &quot;{{ .Envs.FRP_SSH_REMOTE_PORT }}&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>{{ .Envs.FRP_SERVER_ADDR }}<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>{{ .Envs.FRP_SSH_REMOTE_PORT }}<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">With the config above, variables can be passed into <code class=\"notranslate\">frpc</code> program like this:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"export FRP_SERVER_ADDR=x.x.x.x\nexport FRP_SSH_REMOTE_PORT=6000\n./frpc -c ./frpc.toml\"><pre class=\"notranslate\"><code class=\"notranslate\">export FRP_SERVER_ADDR=x.x.x.x\nexport FRP_SSH_REMOTE_PORT=6000\n./frpc -c ./frpc.toml\n</code></pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">frpc</code> will render configuration file template using OS environment variables. Remember to prefix your reference with <code class=\"notranslate\">.Envs</code>.</p>\n<h3 dir=\"auto\">Split Configures Into Different Files</h3>\n<p dir=\"auto\">You can split multiple proxy configs into different files and include them in the main file.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\nincludes = [&quot;./confd/*.toml&quot;]\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">includes</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./confd/*.toml<span class=\"pl-pds\">\"</span></span>]</pre></div>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# ./confd/test.toml\n\n[[proxies]]\nname = &quot;ssh&quot;\ntype = &quot;tcp&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 22\nremotePort = 6000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> ./confd/test.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span></pre></div>\n<h3 dir=\"auto\">Server Dashboard</h3>\n<p dir=\"auto\">Check frp's status and proxies' statistics information by Dashboard.</p>\n<p dir=\"auto\">Configure a port for dashboard to enable this feature:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# The default value is 127.0.0.1. Change it to 0.0.0.0 when you want to access it from a public network.\nwebServer.addr = &quot;0.0.0.0&quot;\nwebServer.port = 7500\n# dashboard's username and password are both optional\nwebServer.user = &quot;admin&quot;\nwebServer.password = &quot;admin&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> The default value is 127.0.0.1. Change it to 0.0.0.0 when you want to access it from a public network.</span>\n<span class=\"pl-smi\">webServer.addr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0.0.0.0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.port</span> = <span class=\"pl-c1\">7500</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> dashboard's username and password are both optional</span>\n<span class=\"pl-smi\">webServer.user</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.password</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Then visit <code class=\"notranslate\">http://[serverAddr]:7500</code> to see the dashboard, with username and password both being <code class=\"notranslate\">admin</code>.</p>\n<p dir=\"auto\">Additionally, you can use HTTPS port by using your domains wildcard or normal SSL certificate:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"webServer.port = 7500\n# dashboard's username and password are both optional\nwebServer.user = &quot;admin&quot;\nwebServer.password = &quot;admin&quot;\nwebServer.tls.certFile = &quot;server.crt&quot;\nwebServer.tls.keyFile = &quot;server.key&quot;\"><pre class=\"notranslate\"><span class=\"pl-smi\">webServer.port</span> = <span class=\"pl-c1\">7500</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> dashboard's username and password are both optional</span>\n<span class=\"pl-smi\">webServer.user</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.password</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.tls.certFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>server.crt<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.tls.keyFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>server.key<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Then visit <code class=\"notranslate\">https://[serverAddr]:7500</code> to see the dashboard in secure HTTPS connection, with username and password both being <code class=\"notranslate\">admin</code>.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/doc/pic/dashboard.png\"><img src=\"/doc/pic/dashboard.png\" alt=\"dashboard\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Client Admin UI</h3>\n<p dir=\"auto\">The Client Admin UI helps you check and manage frpc's configuration.</p>\n<p dir=\"auto\">Configure an address for admin UI to enable this feature:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"webServer.addr = &quot;127.0.0.1&quot;\nwebServer.port = 7400\nwebServer.user = &quot;admin&quot;\nwebServer.password = &quot;admin&quot;\"><pre class=\"notranslate\"><span class=\"pl-smi\">webServer.addr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.port</span> = <span class=\"pl-c1\">7400</span>\n<span class=\"pl-smi\">webServer.user</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.password</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>admin<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Then visit <code class=\"notranslate\">http://127.0.0.1:7400</code> to see admin UI, with username and password both being <code class=\"notranslate\">admin</code>.</p>\n<h3 dir=\"auto\">Monitor</h3>\n<p dir=\"auto\">When web server is enabled, frps will save monitor data in cache for 7 days. It will be cleared after process restart.</p>\n<p dir=\"auto\">Prometheus is also supported.</p>\n<h4 dir=\"auto\">Prometheus</h4>\n<p dir=\"auto\">Enable dashboard first, then configure <code class=\"notranslate\">enablePrometheus = true</code> in <code class=\"notranslate\">frps.toml</code>.</p>\n<p dir=\"auto\"><code class=\"notranslate\">http://{dashboard_addr}/metrics</code> will provide prometheus monitor data.</p>\n<h3 dir=\"auto\">Authenticating the Client</h3>\n<p dir=\"auto\">There are 2 authentication methods to authenticate frpc with frps.</p>\n<p dir=\"auto\">You can decide which one to use by configuring <code class=\"notranslate\">auth.method</code> in <code class=\"notranslate\">frpc.toml</code> and <code class=\"notranslate\">frps.toml</code>, the default one is token.</p>\n<p dir=\"auto\">Configuring <code class=\"notranslate\">auth.additionalScopes = [\"HeartBeats\"]</code> will use the configured authentication method to add and validate authentication on every heartbeat between frpc and frps.</p>\n<p dir=\"auto\">Configuring <code class=\"notranslate\">auth.additionalScopes = [\"NewWorkConns\"]</code> will do the same for every new work connection between frpc and frps.</p>\n<h4 dir=\"auto\">Token Authentication</h4>\n<p dir=\"auto\">When specifying <code class=\"notranslate\">auth.method = \"token\"</code> in <code class=\"notranslate\">frpc.toml</code> and <code class=\"notranslate\">frps.toml</code> - token based authentication will be used.</p>\n<p dir=\"auto\">Make sure to specify the same <code class=\"notranslate\">auth.token</code> in <code class=\"notranslate\">frps.toml</code> and <code class=\"notranslate\">frpc.toml</code> for frpc to pass frps validation</p>\n<h4 dir=\"auto\">OIDC Authentication</h4>\n<p dir=\"auto\">When specifying <code class=\"notranslate\">auth.method = \"oidc\"</code> in <code class=\"notranslate\">frpc.toml</code> and <code class=\"notranslate\">frps.toml</code> - OIDC based authentication will be used.</p>\n<p dir=\"auto\">OIDC stands for OpenID Connect, and the flow used is called <a href=\"https://tools.ietf.org/html/rfc6749#section-4.4\" rel=\"nofollow\">Client Credentials Grant</a>.</p>\n<p dir=\"auto\">To use this authentication type - configure <code class=\"notranslate\">frpc.toml</code> and <code class=\"notranslate\">frps.toml</code> as follows:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nauth.method = &quot;oidc&quot;\nauth.oidc.issuer = &quot;https://example-oidc-issuer.com/&quot;\nauth.oidc.audience = &quot;https://oidc-audience.com/.default&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">auth.method</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>oidc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">auth.oidc.issuer</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://example-oidc-issuer.com/<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">auth.oidc.audience</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://oidc-audience.com/.default<span class=\"pl-pds\">\"</span></span></pre></div>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nauth.method = &quot;oidc&quot;\nauth.oidc.clientID = &quot;98692467-37de-409a-9fac-bb2585826f18&quot; # Replace with OIDC client ID\nauth.oidc.clientSecret = &quot;oidc_secret&quot;\nauth.oidc.audience = &quot;https://oidc-audience.com/.default&quot;\nauth.oidc.tokenEndpointURL = &quot;https://example-oidc-endpoint.com/oauth2/v2.0/token&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">auth.method</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>oidc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">auth.oidc.clientID</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>98692467-37de-409a-9fac-bb2585826f18<span class=\"pl-pds\">\"</span></span> <span class=\"pl-c\"><span class=\"pl-c\">#</span> Replace with OIDC client ID</span>\n<span class=\"pl-smi\">auth.oidc.clientSecret</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>oidc_secret<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">auth.oidc.audience</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://oidc-audience.com/.default<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">auth.oidc.tokenEndpointURL</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://example-oidc-endpoint.com/oauth2/v2.0/token<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Encryption and Compression</h3>\n<p dir=\"auto\">The features are off by default. You can turn on encryption and/or compression:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;ssh&quot;\ntype = &quot;tcp&quot;\nlocalPort = 22\nremotePort = 6000\ntransport.useEncryption = true\ntransport.useCompression = true\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n<span class=\"pl-smi\">transport.useEncryption</span> = <span class=\"pl-c1\">true</span>\n<span class=\"pl-smi\">transport.useCompression</span> = <span class=\"pl-c1\">true</span></pre></div>\n<h4 dir=\"auto\">TLS</h4>\n<p dir=\"auto\">Since v0.50.0, the default value of <code class=\"notranslate\">transport.tls.enable</code> and <code class=\"notranslate\">transport.tls.disableCustomTLSFirstByte</code> has been changed to true, and tls is enabled by default.</p>\n<p dir=\"auto\">For port multiplexing, frp sends a first byte <code class=\"notranslate\">0x17</code> to dial a TLS connection. This only takes effect when you set <code class=\"notranslate\">transport.tls.disableCustomTLSFirstByte</code> to false.</p>\n<p dir=\"auto\">To <strong>enforce</strong> <code class=\"notranslate\">frps</code> to only accept TLS connections - configure <code class=\"notranslate\">transport.tls.force = true</code> in <code class=\"notranslate\">frps.toml</code>. <strong>This is optional.</strong></p>\n<p dir=\"auto\"><strong><code class=\"notranslate\">frpc</code> TLS settings:</strong></p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"transport.tls.enable = true\ntransport.tls.certFile = &quot;certificate.crt&quot;\ntransport.tls.keyFile = &quot;certificate.key&quot;\ntransport.tls.trustedCaFile = &quot;ca.crt&quot;\"><pre class=\"notranslate\"><span class=\"pl-smi\">transport.tls.enable</span> = <span class=\"pl-c1\">true</span>\n<span class=\"pl-smi\">transport.tls.certFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>certificate.crt<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">transport.tls.keyFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>certificate.key<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">transport.tls.trustedCaFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ca.crt<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\"><strong><code class=\"notranslate\">frps</code> TLS settings:</strong></p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"transport.tls.force = true\ntransport.tls.certFile = &quot;certificate.crt&quot;\ntransport.tls.keyFile = &quot;certificate.key&quot;\ntransport.tls.trustedCaFile = &quot;ca.crt&quot;\"><pre class=\"notranslate\"><span class=\"pl-smi\">transport.tls.force</span> = <span class=\"pl-c1\">true</span>\n<span class=\"pl-smi\">transport.tls.certFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>certificate.crt<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">transport.tls.keyFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>certificate.key<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">transport.tls.trustedCaFile</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ca.crt<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">You will need <strong>a root CA cert</strong> and <strong>at least one SSL/TLS certificate</strong>. It <strong>can</strong> be self-signed or regular (such as Let's Encrypt or another SSL/TLS certificate provider).</p>\n<p dir=\"auto\">If you using <code class=\"notranslate\">frp</code> via IP address and not hostname, make sure to set the appropriate IP address in the Subject Alternative Name (SAN) area when generating SSL/TLS Certificates.</p>\n<p dir=\"auto\">Given an example:</p>\n<ul dir=\"auto\">\n<li>Prepare openssl config file. It exists at <code class=\"notranslate\">/etc/pki/tls/openssl.cnf</code> in Linux System and <code class=\"notranslate\">/System/Library/OpenSSL/openssl.cnf</code> in MacOS, and you can copy it to current path, like <code class=\"notranslate\">cp /etc/pki/tls/openssl.cnf ./my-openssl.cnf</code>. If not, you can build it by yourself, like:</li>\n</ul>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"cat &gt; my-openssl.cnf &lt;&lt; EOF\n[ ca ]\ndefault_ca = CA_default\n[ CA_default ]\nx509_extensions = usr_cert\n[ req ]\ndefault_bits        = 2048\ndefault_md          = sha256\ndefault_keyfile     = privkey.pem\ndistinguished_name  = req_distinguished_name\nattributes          = req_attributes\nx509_extensions     = v3_ca\nstring_mask         = utf8only\n[ req_distinguished_name ]\n[ req_attributes ]\n[ usr_cert ]\nbasicConstraints       = CA:FALSE\nnsComment              = &quot;OpenSSL Generated Certificate&quot;\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid,issuer\n[ v3_ca ]\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid:always,issuer\nbasicConstraints       = CA:true\nEOF\"><pre class=\"notranslate\"><code class=\"notranslate\">cat &gt; my-openssl.cnf &lt;&lt; EOF\n[ ca ]\ndefault_ca = CA_default\n[ CA_default ]\nx509_extensions = usr_cert\n[ req ]\ndefault_bits        = 2048\ndefault_md          = sha256\ndefault_keyfile     = privkey.pem\ndistinguished_name  = req_distinguished_name\nattributes          = req_attributes\nx509_extensions     = v3_ca\nstring_mask         = utf8only\n[ req_distinguished_name ]\n[ req_attributes ]\n[ usr_cert ]\nbasicConstraints       = CA:FALSE\nnsComment              = \"OpenSSL Generated Certificate\"\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid,issuer\n[ v3_ca ]\nsubjectKeyIdentifier   = hash\nauthorityKeyIdentifier = keyid:always,issuer\nbasicConstraints       = CA:true\nEOF\n</code></pre></div>\n<ul dir=\"auto\">\n<li>build ca certificates:</li>\n</ul>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"openssl genrsa -out ca.key 2048\nopenssl req -x509 -new -nodes -key ca.key -subj &quot;/CN=example.ca.com&quot; -days 5000 -out ca.crt\"><pre class=\"notranslate\"><code class=\"notranslate\">openssl genrsa -out ca.key 2048\nopenssl req -x509 -new -nodes -key ca.key -subj \"/CN=example.ca.com\" -days 5000 -out ca.crt\n</code></pre></div>\n<ul dir=\"auto\">\n<li>build frps certificates:</li>\n</ul>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"openssl genrsa -out server.key 2048\n\nopenssl req -new -sha256 -key server.key \\\n    -subj &quot;/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=server.com&quot; \\\n    -reqexts SAN \\\n    -config &lt;(cat my-openssl.cnf &lt;(printf &quot;\\n[SAN]\\nsubjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com&quot;)) \\\n    -out server.csr\n\nopenssl x509 -req -days 365 -sha256 \\\n\t-in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial \\\n\t-extfile &lt;(printf &quot;subjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com&quot;) \\\n\t-out server.crt\"><pre class=\"notranslate\"><code class=\"notranslate\">openssl genrsa -out server.key 2048\n\nopenssl req -new -sha256 -key server.key \\\n    -subj \"/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=server.com\" \\\n    -reqexts SAN \\\n    -config &lt;(cat my-openssl.cnf &lt;(printf \"\\n[SAN]\\nsubjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com\")) \\\n    -out server.csr\n\nopenssl x509 -req -days 365 -sha256 \\\n\t-in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial \\\n\t-extfile &lt;(printf \"subjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com\") \\\n\t-out server.crt\n</code></pre></div>\n<ul dir=\"auto\">\n<li>build frpc certificates：</li>\n</ul>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"openssl genrsa -out client.key 2048\nopenssl req -new -sha256 -key client.key \\\n    -subj &quot;/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=client.com&quot; \\\n    -reqexts SAN \\\n    -config &lt;(cat my-openssl.cnf &lt;(printf &quot;\\n[SAN]\\nsubjectAltName=DNS:client.com,DNS:example.client.com&quot;)) \\\n    -out client.csr\n\nopenssl x509 -req -days 365 -sha256 \\\n    -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial \\\n\t-extfile &lt;(printf &quot;subjectAltName=DNS:client.com,DNS:example.client.com&quot;) \\\n\t-out client.crt\"><pre class=\"notranslate\"><code class=\"notranslate\">openssl genrsa -out client.key 2048\nopenssl req -new -sha256 -key client.key \\\n    -subj \"/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=client.com\" \\\n    -reqexts SAN \\\n    -config &lt;(cat my-openssl.cnf &lt;(printf \"\\n[SAN]\\nsubjectAltName=DNS:client.com,DNS:example.client.com\")) \\\n    -out client.csr\n\nopenssl x509 -req -days 365 -sha256 \\\n    -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial \\\n\t-extfile &lt;(printf \"subjectAltName=DNS:client.com,DNS:example.client.com\") \\\n\t-out client.crt\n</code></pre></div>\n<h3 dir=\"auto\">Hot-Reloading frpc configuration</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">webServer</code> fields are required for enabling HTTP API:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nwebServer.addr = &quot;127.0.0.1&quot;\nwebServer.port = 7400\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">webServer.addr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">webServer.port</span> = <span class=\"pl-c1\">7400</span></pre></div>\n<p dir=\"auto\">Then run command <code class=\"notranslate\">frpc reload -c ./frpc.toml</code> and wait for about 10 seconds to let <code class=\"notranslate\">frpc</code> create or update or remove proxies.</p>\n<p dir=\"auto\"><strong>Note that global client parameters won't be modified except 'start'.</strong></p>\n<p dir=\"auto\">You can run command <code class=\"notranslate\">frpc verify -c ./frpc.toml</code> before reloading to check if there are config errors.</p>\n<h3 dir=\"auto\">Get proxy status from client</h3>\n<p dir=\"auto\">Use <code class=\"notranslate\">frpc status -c ./frpc.toml</code> to get status of all proxies. The <code class=\"notranslate\">webServer</code> fields are required for enabling HTTP API.</p>\n<h3 dir=\"auto\">Only allowing certain ports on the server</h3>\n<p dir=\"auto\"><code class=\"notranslate\">allowPorts</code> in <code class=\"notranslate\">frps.toml</code> is used to avoid abuse of ports:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nallowPorts = [\n  { start = 2000, end = 3000 },\n  { single = 3001 },\n  { single = 3003 },\n  { start = 4000, end = 50000 }\n]\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">allowPorts</span> = [\n  { <span class=\"pl-smi\">start</span> = <span class=\"pl-c1\">2000</span>, <span class=\"pl-smi\">end</span> = <span class=\"pl-c1\">3000</span> },\n  { <span class=\"pl-smi\">single</span> = <span class=\"pl-c1\">3001</span> },\n  { <span class=\"pl-smi\">single</span> = <span class=\"pl-c1\">3003</span> },\n  { <span class=\"pl-smi\">start</span> = <span class=\"pl-c1\">4000</span>, <span class=\"pl-smi\">end</span> = <span class=\"pl-c1\">50000</span> }\n]</pre></div>\n<h3 dir=\"auto\">Port Reuse</h3>\n<p dir=\"auto\"><code class=\"notranslate\">vhostHTTPPort</code> and <code class=\"notranslate\">vhostHTTPSPort</code> in frps can use same port with <code class=\"notranslate\">bindPort</code>. frps will detect the connection's protocol and handle it correspondingly.</p>\n<p dir=\"auto\">What you need to pay attention to is that if you want to configure <code class=\"notranslate\">vhostHTTPSPort</code> and <code class=\"notranslate\">bindPort</code> to the same port, you need to first set <code class=\"notranslate\">transport.tls.disableCustomTLSFirstByte</code> to false.</p>\n<p dir=\"auto\">We would like to try to allow multiple proxies bind a same remote port with different protocols in the future.</p>\n<h3 dir=\"auto\">Bandwidth Limit</h3>\n<h4 dir=\"auto\">For Each Proxy</h4>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;ssh&quot;\ntype = &quot;tcp&quot;\nlocalPort = 22\nremotePort = 6000\ntransport.bandwidthLimit = &quot;1MB&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ssh<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n<span class=\"pl-smi\">transport.bandwidthLimit</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1MB<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Set <code class=\"notranslate\">transport.bandwidthLimit</code> in each proxy's configure to enable this feature. Supported units are <code class=\"notranslate\">MB</code> and <code class=\"notranslate\">KB</code>.</p>\n<p dir=\"auto\">Set <code class=\"notranslate\">transport.bandwidthLimitMode</code> to <code class=\"notranslate\">client</code> or <code class=\"notranslate\">server</code> to limit bandwidth on the client or server side. Default is <code class=\"notranslate\">client</code>.</p>\n<h3 dir=\"auto\">TCP Stream Multiplexing</h3>\n<p dir=\"auto\">frp supports tcp stream multiplexing since v0.10.0 like HTTP2 Multiplexing, in which case all logic connections to the same frpc are multiplexed into the same TCP connection.</p>\n<p dir=\"auto\">You can disable this feature by modify <code class=\"notranslate\">frps.toml</code> and <code class=\"notranslate\">frpc.toml</code>:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml and frpc.toml, must be same\ntransport.tcpMux = false\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml and frpc.toml, must be same</span>\n<span class=\"pl-smi\">transport.tcpMux</span> = <span class=\"pl-c1\">false</span></pre></div>\n<h3 dir=\"auto\">Support KCP Protocol</h3>\n<p dir=\"auto\">KCP is a fast and reliable protocol that can achieve the transmission effect of a reduction of the average latency by 30% to 40% and reduction of the maximum delay by a factor of three, at the cost of 10% to 20% more bandwidth wasted than TCP.</p>\n<p dir=\"auto\">KCP mode uses UDP as the underlying transport. Using KCP in frp:</p>\n<ol dir=\"auto\">\n<li>Enable KCP in frps:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\n# Specify a UDP port for KCP.\nkcpBindPort = 7000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Specify a UDP port for KCP.</span>\n<span class=\"pl-smi\">kcpBindPort</span> = <span class=\"pl-c1\">7000</span></pre></div>\n<p dir=\"auto\">The <code class=\"notranslate\">kcpBindPort</code> number can be the same number as <code class=\"notranslate\">bindPort</code>, since <code class=\"notranslate\">bindPort</code> field specifies a TCP port.</p>\n<ol start=\"2\" dir=\"auto\">\n<li>Configure <code class=\"notranslate\">frpc.toml</code> to use KCP to connect to frps:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\n# Same as the 'kcpBindPort' in frps.toml\nserverPort = 7000\ntransport.protocol = &quot;kcp&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Same as the 'kcpBindPort' in frps.toml</span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">transport.protocol</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>kcp<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Support QUIC Protocol</h3>\n<p dir=\"auto\">QUIC is a new multiplexed transport built on top of UDP.</p>\n<p dir=\"auto\">Using QUIC in frp:</p>\n<ol dir=\"auto\">\n<li>Enable QUIC in frps:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\n# Specify a UDP port for QUIC.\nquicBindPort = 7000\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Specify a UDP port for QUIC.</span>\n<span class=\"pl-smi\">quicBindPort</span> = <span class=\"pl-c1\">7000</span></pre></div>\n<p dir=\"auto\">The <code class=\"notranslate\">quicBindPort</code> number can be the same number as <code class=\"notranslate\">bindPort</code>, since <code class=\"notranslate\">bindPort</code> field specifies a TCP port.</p>\n<ol start=\"2\" dir=\"auto\">\n<li>Configure <code class=\"notranslate\">frpc.toml</code> to use QUIC to connect to frps:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\n# Same as the 'quicBindPort' in frps.toml\nserverPort = 7000\ntransport.protocol = &quot;quic&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Same as the 'quicBindPort' in frps.toml</span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">transport.protocol</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>quic<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Connection Pooling</h3>\n<p dir=\"auto\">By default, frps creates a new frpc connection to the backend service upon a user request. With connection pooling, frps keeps a certain number of pre-established connections, reducing the time needed to establish a connection.</p>\n<p dir=\"auto\">This feature is suitable for a large number of short connections.</p>\n<ol dir=\"auto\">\n<li>Configure the limit of pool count each proxy can use in <code class=\"notranslate\">frps.toml</code>:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\ntransport.maxPoolCount = 5\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">transport.maxPoolCount</span> = <span class=\"pl-c1\">5</span></pre></div>\n<ol start=\"2\" dir=\"auto\">\n<li>Enable and specify the number of connection pool:</li>\n</ol>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\ntransport.poolCount = 1\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">transport.poolCount</span> = <span class=\"pl-c1\">1</span></pre></div>\n<h3 dir=\"auto\">Load balancing</h3>\n<p dir=\"auto\">Load balancing is supported by <code class=\"notranslate\">group</code>.</p>\n<p dir=\"auto\">This feature is only available for types <code class=\"notranslate\">tcp</code>, <code class=\"notranslate\">http</code>, <code class=\"notranslate\">tcpmux</code> now.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;test1&quot;\ntype = &quot;tcp&quot;\nlocalPort = 8080\nremotePort = 80\nloadBalancer.group = &quot;web&quot;\nloadBalancer.groupKey = &quot;123&quot;\n\n[[proxies]]\nname = &quot;test2&quot;\ntype = &quot;tcp&quot;\nlocalPort = 8081\nremotePort = 80\nloadBalancer.group = &quot;web&quot;\nloadBalancer.groupKey = &quot;123&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">8080</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">loadBalancer.group</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">loadBalancer.groupKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>123<span class=\"pl-pds\">\"</span></span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test2<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">8081</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">loadBalancer.group</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">loadBalancer.groupKey</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>123<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">loadBalancer.groupKey</code> is used for authentication.</p>\n<p dir=\"auto\">Connections to port 80 will be dispatched to proxies in the same group randomly.</p>\n<p dir=\"auto\">For type <code class=\"notranslate\">tcp</code>, <code class=\"notranslate\">remotePort</code> in the same group should be the same.</p>\n<p dir=\"auto\">For type <code class=\"notranslate\">http</code>, <code class=\"notranslate\">customDomains</code>, <code class=\"notranslate\">subdomain</code>, <code class=\"notranslate\">locations</code> should be the same.</p>\n<h3 dir=\"auto\">Service Health Check</h3>\n<p dir=\"auto\">Health check feature can help you achieve high availability with load balancing.</p>\n<p dir=\"auto\">Add <code class=\"notranslate\">healthCheck.type = \"tcp\"</code> or <code class=\"notranslate\">healthCheck.type = \"http\"</code> to enable health check.</p>\n<p dir=\"auto\">With health check type <strong>tcp</strong>, the service port will be pinged (TCPing):</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;test1&quot;\ntype = &quot;tcp&quot;\nlocalPort = 22\nremotePort = 6000\n# Enable TCP health check\nhealthCheck.type = &quot;tcp&quot;\n# TCPing timeout seconds\nhealthCheck.timeoutSeconds = 3\n# If health check failed 3 times in a row, the proxy will be removed from frps\nhealthCheck.maxFailed = 3\n# A health check every 10 seconds\nhealthCheck.intervalSeconds = 10\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">22</span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Enable TCP health check</span>\n<span class=\"pl-smi\">healthCheck.type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> TCPing timeout seconds</span>\n<span class=\"pl-smi\">healthCheck.timeoutSeconds</span> = <span class=\"pl-c1\">3</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> If health check failed 3 times in a row, the proxy will be removed from frps</span>\n<span class=\"pl-smi\">healthCheck.maxFailed</span> = <span class=\"pl-c1\">3</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> A health check every 10 seconds</span>\n<span class=\"pl-smi\">healthCheck.intervalSeconds</span> = <span class=\"pl-c1\">10</span></pre></div>\n<p dir=\"auto\">With health check type <strong>http</strong>, an HTTP request will be sent to the service and an HTTP 2xx OK response is expected:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalIP = &quot;127.0.0.1&quot;\nlocalPort = 80\ncustomDomains = [&quot;test.example.com&quot;]\n# Enable HTTP health check\nhealthCheck.type = &quot;http&quot;\n# frpc will send a GET request to '/status'\n# and expect an HTTP 2xx OK response\nhealthCheck.path = &quot;/status&quot;\nhealthCheck.timeoutSeconds = 3\nhealthCheck.maxFailed = 3\nhealthCheck.intervalSeconds = 10\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localIP</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Enable HTTP health check</span>\n<span class=\"pl-smi\">healthCheck.type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc will send a GET request to '/status'</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> and expect an HTTP 2xx OK response</span>\n<span class=\"pl-smi\">healthCheck.path</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/status<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">healthCheck.timeoutSeconds</span> = <span class=\"pl-c1\">3</span>\n<span class=\"pl-smi\">healthCheck.maxFailed</span> = <span class=\"pl-c1\">3</span>\n<span class=\"pl-smi\">healthCheck.intervalSeconds</span> = <span class=\"pl-c1\">10</span></pre></div>\n<h3 dir=\"auto\">Rewriting the HTTP Host Header</h3>\n<p dir=\"auto\">By default frp does not modify the tunneled HTTP requests at all as it's a byte-for-byte copy.</p>\n<p dir=\"auto\">However, speaking of web servers and HTTP requests, your web server might rely on the <code class=\"notranslate\">Host</code> HTTP header to determine the website to be accessed. frp can rewrite the <code class=\"notranslate\">Host</code> header when forwarding the HTTP requests, with the <code class=\"notranslate\">hostHeaderRewrite</code> field:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalPort = 80\ncustomDomains = [&quot;test.example.com&quot;]\nhostHeaderRewrite = &quot;dev.example.com&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">hostHeaderRewrite</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dev.example.com<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">The HTTP request will have the <code class=\"notranslate\">Host</code> header rewritten to <code class=\"notranslate\">Host: dev.example.com</code> when it reaches the actual web server, although the request from the browser probably has <code class=\"notranslate\">Host: test.example.com</code>.</p>\n<h3 dir=\"auto\">Setting other HTTP Headers</h3>\n<p dir=\"auto\">Similar to <code class=\"notranslate\">Host</code>, You can override other HTTP request and response headers with proxy type <code class=\"notranslate\">http</code>.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalPort = 80\ncustomDomains = [&quot;test.example.com&quot;]\nhostHeaderRewrite = &quot;dev.example.com&quot;\nrequestHeaders.set.x-from-where = &quot;frp&quot;\nresponseHeaders.set.foo = &quot;bar&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">hostHeaderRewrite</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>dev.example.com<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">requestHeaders.set.x-from-where</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>frp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">responseHeaders.set.foo</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bar<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">In this example, it will set header <code class=\"notranslate\">x-from-where: frp</code> in the HTTP request and <code class=\"notranslate\">foo: bar</code> in the HTTP response.</p>\n<h3 dir=\"auto\">Get Real IP</h3>\n<h4 dir=\"auto\">HTTP X-Forwarded-For</h4>\n<p dir=\"auto\">This feature is for <code class=\"notranslate\">http</code> proxies or proxies with the <code class=\"notranslate\">https2http</code> and <code class=\"notranslate\">https2https</code> plugins enabled.</p>\n<p dir=\"auto\">You can get user's real IP from HTTP request headers <code class=\"notranslate\">X-Forwarded-For</code>.</p>\n<h4 dir=\"auto\">Proxy Protocol</h4>\n<p dir=\"auto\">frp supports Proxy Protocol to send user's real IP to local services. It support all types except UDP.</p>\n<p dir=\"auto\">Here is an example for https service:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;https&quot;\nlocalPort = 443\ncustomDomains = [&quot;test.example.com&quot;]\n\n# now v1 and v2 are supported\ntransport.proxyProtocolVersion = &quot;v2&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">443</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> now v1 and v2 are supported</span>\n<span class=\"pl-smi\">transport.proxyProtocolVersion</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>v2<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">You can enable Proxy Protocol support in nginx to expose user's real IP in HTTP header <code class=\"notranslate\">X-Real-IP</code>, and then read <code class=\"notranslate\">X-Real-IP</code> header in your web service for the real IP.</p>\n<h3 dir=\"auto\">Require HTTP Basic Auth (Password) for Web Services</h3>\n<p dir=\"auto\">Anyone who can guess your tunnel URL can access your local web server unless you protect it with a password.</p>\n<p dir=\"auto\">This enforces HTTP Basic Auth on all requests with the username and password specified in frpc's configure file.</p>\n<p dir=\"auto\">It can only be enabled when proxy type is http.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalPort = 80\ncustomDomains = [&quot;test.example.com&quot;]\nhttpUser = &quot;abc&quot;\nhttpPassword = &quot;abc&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">httpUser</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">httpPassword</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Visit <code class=\"notranslate\">http://test.example.com</code> in the browser and now you are prompted to enter the username and password.</p>\n<h3 dir=\"auto\">Custom Subdomain Names</h3>\n<p dir=\"auto\">It is convenient to use <code class=\"notranslate\">subdomain</code> configure for http and https types when many people share one frps server.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nsubDomainHost = &quot;frps.com&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">subDomainHost</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>frps.com<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Resolve <code class=\"notranslate\">*.frps.com</code> to the frps server's IP. This is usually called a Wildcard DNS record.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web&quot;\ntype = &quot;http&quot;\nlocalPort = 80\nsubdomain = &quot;test&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">subdomain</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Now you can visit your web service on <code class=\"notranslate\">test.frps.com</code>.</p>\n<p dir=\"auto\">Note that if <code class=\"notranslate\">subdomainHost</code> is not empty, <code class=\"notranslate\">customDomains</code> should not be the subdomain of <code class=\"notranslate\">subdomainHost</code>.</p>\n<h3 dir=\"auto\">URL Routing</h3>\n<p dir=\"auto\">frp supports forwarding HTTP requests to different backend web services by url routing.</p>\n<p dir=\"auto\"><code class=\"notranslate\">locations</code> specifies the prefix of URL used for routing. frps first searches for the most specific prefix location given by literal strings regardless of the listed order.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;web01&quot;\ntype = &quot;http&quot;\nlocalPort = 80\ncustomDomains = [&quot;web.example.com&quot;]\nlocations = [&quot;/&quot;]\n\n[[proxies]]\nname = &quot;web02&quot;\ntype = &quot;http&quot;\nlocalPort = 81\ncustomDomains = [&quot;web.example.com&quot;]\nlocations = [&quot;/news&quot;, &quot;/about&quot;]\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web01<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">locations</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/<span class=\"pl-pds\">\"</span></span>]\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web02<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">81</span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>web.example.com<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">locations</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/news<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/about<span class=\"pl-pds\">\"</span></span>]</pre></div>\n<p dir=\"auto\">HTTP requests with URL prefix <code class=\"notranslate\">/news</code> or <code class=\"notranslate\">/about</code> will be forwarded to <strong>web02</strong> and other requests to <strong>web01</strong>.</p>\n<h3 dir=\"auto\">TCP Port Multiplexing</h3>\n<p dir=\"auto\">frp supports receiving TCP sockets directed to different proxies on a single port on frps, similar to <code class=\"notranslate\">vhostHTTPPort</code> and <code class=\"notranslate\">vhostHTTPSPort</code>.</p>\n<p dir=\"auto\">The only supported TCP port multiplexing method available at the moment is <code class=\"notranslate\">httpconnect</code> - HTTP CONNECT tunnel.</p>\n<p dir=\"auto\">When setting <code class=\"notranslate\">tcpmuxHTTPConnectPort</code> to anything other than 0 in frps, frps will listen on this port for HTTP CONNECT requests.</p>\n<p dir=\"auto\">The host of the HTTP CONNECT request will be used to match the proxy in frps. Proxy hosts can be configured in frpc by configuring <code class=\"notranslate\">customDomains</code> and / or <code class=\"notranslate\">subdomain</code> under <code class=\"notranslate\">tcpmux</code> proxies, when <code class=\"notranslate\">multiplexer = \"httpconnect\"</code>.</p>\n<p dir=\"auto\">For example:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nbindPort = 7000\ntcpmuxHTTPConnectPort = 1337\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">bindPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">tcpmuxHTTPConnectPort</span> = <span class=\"pl-c1\">1337</span></pre></div>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\n\n[[proxies]]\nname = &quot;proxy1&quot;\ntype = &quot;tcpmux&quot;\nmultiplexer = &quot;httpconnect&quot;\ncustomDomains = [&quot;test1&quot;]\nlocalPort = 80\n\n[[proxies]]\nname = &quot;proxy2&quot;\ntype = &quot;tcpmux&quot;\nmultiplexer = &quot;httpconnect&quot;\ncustomDomains = [&quot;test2&quot;]\nlocalPort = 8080\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>proxy1<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcpmux<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">multiplexer</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpconnect<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test1<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">80</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>proxy2<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcpmux<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">multiplexer</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpconnect<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">customDomains</span> = [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test2<span class=\"pl-pds\">\"</span></span>]\n<span class=\"pl-smi\">localPort</span> = <span class=\"pl-c1\">8080</span></pre></div>\n<p dir=\"auto\">In the above configuration - frps can be contacted on port 1337 with a HTTP CONNECT header such as:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"CONNECT test1 HTTP/1.1\\r\\n\\r\\n\"><pre class=\"notranslate\"><code class=\"notranslate\">CONNECT test1 HTTP/1.1\\r\\n\\r\\n\n</code></pre></div>\n<p dir=\"auto\">and the connection will be routed to <code class=\"notranslate\">proxy1</code>.</p>\n<h3 dir=\"auto\">Connecting to frps via PROXY</h3>\n<p dir=\"auto\">frpc can connect to frps through proxy if you set OS environment variable <code class=\"notranslate\">HTTP_PROXY</code>, or if <code class=\"notranslate\">transport.proxyURL</code> is set in frpc.toml file.</p>\n<p dir=\"auto\">It only works when protocol is tcp.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\nserverAddr = &quot;x.x.x.x&quot;\nserverPort = 7000\ntransport.proxyURL = &quot;http://user:pwd@192.168.1.128:8080&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n<span class=\"pl-smi\">serverAddr</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>x.x.x.x<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">serverPort</span> = <span class=\"pl-c1\">7000</span>\n<span class=\"pl-smi\">transport.proxyURL</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://user:pwd@192.168.1.128:8080<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Port range mapping</h3>\n<p dir=\"auto\"><em>Added in v0.56.0</em></p>\n<p dir=\"auto\">We can use the range syntax of Go template combined with the built-in <code class=\"notranslate\">parseNumberRangePair</code> function to achieve port range mapping.</p>\n<p dir=\"auto\">The following example, when run, will create 8 proxies named <code class=\"notranslate\">test-6000, test-6001 ... test-6007</code>, each mapping the remote port to the local port.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{{- range $_, $v := parseNumberRangePair &quot;6000-6006,6007&quot; &quot;6000-6006,6007&quot; }}\n[[proxies]]\nname = &quot;tcp-{{ $v.First }}&quot;\ntype = &quot;tcp&quot;\nlocalPort = {{ $v.First }}\nremotePort = {{ $v.Second }}\n{{- end }}\"><pre class=\"notranslate\"><code class=\"notranslate\">{{- range $_, $v := parseNumberRangePair \"6000-6006,6007\" \"6000-6006,6007\" }}\n[[proxies]]\nname = \"tcp-{{ $v.First }}\"\ntype = \"tcp\"\nlocalPort = {{ $v.First }}\nremotePort = {{ $v.Second }}\n{{- end }}\n</code></pre></div>\n<h3 dir=\"auto\">Client Plugins</h3>\n<p dir=\"auto\">frpc only forwards requests to local TCP or UDP ports by default.</p>\n<p dir=\"auto\">Plugins are used for providing rich features. There are built-in plugins such as <code class=\"notranslate\">unix_domain_socket</code>, <code class=\"notranslate\">http_proxy</code>, <code class=\"notranslate\">socks5</code>, <code class=\"notranslate\">static_file</code>, <code class=\"notranslate\">http2https</code>, <code class=\"notranslate\">https2http</code>, <code class=\"notranslate\">https2https</code> and you can see <a href=\"#example-usage\">example usage</a>.</p>\n<p dir=\"auto\">Using plugin <strong>http_proxy</strong>:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frpc.toml\n\n[[proxies]]\nname = &quot;http_proxy&quot;\ntype = &quot;tcp&quot;\nremotePort = 6000\n[proxies.plugin]\ntype = &quot;http_proxy&quot;\nhttpUser = &quot;abc&quot;\nhttpPassword = &quot;abc&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frpc.toml</span>\n\n[[<span class=\"pl-en\">proxies</span>]]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http_proxy<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tcp<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">remotePort</span> = <span class=\"pl-c1\">6000</span>\n[<span class=\"pl-en\">proxies</span>.<span class=\"pl-en\">plugin</span>]\n<span class=\"pl-smi\">type</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http_proxy<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">httpUser</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">httpPassword</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">httpUser</code> and <code class=\"notranslate\">httpPassword</code> are configuration parameters used in <code class=\"notranslate\">http_proxy</code> plugin.</p>\n<h3 dir=\"auto\">Server Manage Plugins</h3>\n<p dir=\"auto\">Read the <a href=\"/doc/server_plugin.md\">document</a>.</p>\n<p dir=\"auto\">Find more plugins in <a href=\"https://github.com/gofrp/plugin\">gofrp/plugin</a>.</p>\n<h3 dir=\"auto\">SSH Tunnel Gateway</h3>\n<p dir=\"auto\"><em>added in v0.53.0</em></p>\n<p dir=\"auto\">frp supports listening to an SSH port on the frps side and achieves TCP protocol proxying through the SSH -R protocol, without relying on frpc.</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frps.toml\nsshTunnelGateway.bindPort = 2200\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> frps.toml</span>\n<span class=\"pl-smi\">sshTunnelGateway.bindPort</span> = <span class=\"pl-c1\">2200</span></pre></div>\n<p dir=\"auto\">When running <code class=\"notranslate\">./frps -c frps.toml</code>, a private key file named <code class=\"notranslate\">.autogen_ssh_key</code> will be automatically created in the current working directory. This generated private key file will be used by the SSH server in frps.</p>\n<p dir=\"auto\">Executing the command</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ssh -R :80:127.0.0.1:8080 v0@{frp address} -p 2200 tcp --proxy_name &quot;test-tcp&quot; --remote_port 9090\"><pre class=\"notranslate\">ssh -R :80:127.0.0.1:8080 v0@{frp address} -p 2200 tcp --proxy_name <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test-tcp<span class=\"pl-pds\">\"</span></span> --remote_port 9090</pre></div>\n<p dir=\"auto\">sets up a proxy on frps that forwards the local 8080 service to the port 9090.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"frp (via SSH) (Ctrl+C to quit)\n\nUser:\nProxyName: test-tcp\nType: tcp\nRemoteAddress: :9090\"><pre class=\"notranslate\">frp (via SSH) (Ctrl+C to quit)\n\nUser:\nProxyName: test-tcp\nType: tcp\nRemoteAddress: :9090</pre></div>\n<p dir=\"auto\">This is equivalent to:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"frpc tcp --proxy_name &quot;test-tcp&quot; --local_ip 127.0.0.1 --local_port 8080 --remote_port 9090\"><pre class=\"notranslate\">frpc tcp --proxy_name <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test-tcp<span class=\"pl-pds\">\"</span></span> --local_ip 127.0.0.1 --local_port 8080 --remote_port 9090</pre></div>\n<p dir=\"auto\">Please refer to this <a href=\"/doc/ssh_tunnel_gateway.md\">document</a> for more information.</p>\n<h3 dir=\"auto\">Virtual Network (VirtualNet)</h3>\n<p dir=\"auto\"><em>Alpha feature added in v0.62.0</em></p>\n<p dir=\"auto\">The VirtualNet feature enables frp to create and manage virtual network connections between clients and visitors through a TUN interface. This allows for IP-level routing between machines, extending frp beyond simple port forwarding to support full network connectivity.</p>\n<p dir=\"auto\">For detailed information about configuration and usage, please refer to the <a href=\"/doc/virtual_net.md\">VirtualNet documentation</a>.</p>\n<h2 dir=\"auto\">Feature Gates</h2>\n<p dir=\"auto\">frp supports feature gates to enable or disable experimental features. This allows users to try out new features before they're considered stable.</p>\n<h3 dir=\"auto\">Available Feature Gates</h3>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Stage</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VirtualNet</td>\n<td>ALPHA</td>\n<td>false</td>\n<td>Virtual network capabilities for frp</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<h3 dir=\"auto\">Enabling Feature Gates</h3>\n<p dir=\"auto\">To enable an experimental feature, add the feature gate to your configuration:</p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"featureGates = { VirtualNet = true }\"><pre class=\"notranslate\"><span class=\"pl-smi\">featureGates</span> = { <span class=\"pl-smi\">VirtualNet</span> = <span class=\"pl-c1\">true</span> }</pre></div>\n<h3 dir=\"auto\">Feature Lifecycle</h3>\n<p dir=\"auto\">Features typically go through three stages:</p>\n<ol dir=\"auto\">\n<li><strong>ALPHA</strong>: Disabled by default, may be unstable</li>\n<li><strong>BETA</strong>: May be enabled by default, more stable but still evolving</li>\n<li><strong>GA (Generally Available)</strong>: Enabled by default, ready for production use</li>\n</ol>\n<h2 dir=\"auto\">Related Projects</h2>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/gofrp/plugin\">gofrp/plugin</a> - A repository for frp plugins that contains a variety of plugins implemented based on the frp extension mechanism, meeting the customization needs of different scenarios.</li>\n<li><a href=\"https://github.com/gofrp/tiny-frpc\">gofrp/tiny-frpc</a> - A lightweight version of the frp client (around 3.5MB at minimum) implemented using the ssh protocol, supporting some of the most commonly used features, suitable for devices with limited resources.</li>\n</ul>\n<h2 dir=\"auto\">Contributing</h2>\n<p dir=\"auto\">Interested in getting involved? We would like to help you!</p>\n<ul dir=\"auto\">\n<li>Take a look at our <a href=\"https://github.com/fatedier/frp/issues\">issues list</a> and consider sending a Pull Request to <strong>dev branch</strong>.</li>\n<li>If you want to add a new feature, please create an issue first to describe the new feature, as well as the implementation approach. Once a proposal is accepted, create an implementation of the new features and submit it as a pull request.</li>\n<li>Sorry for my poor English. Improvements for this document are welcome, even some typo fixes.</li>\n<li>If you have great ideas, send an email to <a href=\"mailto:fatedier@gmail.com\">fatedier@gmail.com</a>.</li>\n</ul>\n<p dir=\"auto\"><strong>Note: We prefer you to give your advise in <a href=\"https://github.com/fatedier/frp/issues\">issues</a>, so others with a same question can search it quickly and we don't need to answer them repeatedly.</strong></p>\n<h2 dir=\"auto\">Donation</h2>\n<p dir=\"auto\">If frp helps you a lot, you can support us by:</p>\n<h3 dir=\"auto\">GitHub Sponsors</h3>\n<p dir=\"auto\">Support us by <a href=\"https://github.com/sponsors/fatedier\">Github Sponsors</a>.</p>\n<p dir=\"auto\">You can have your company's logo placed on README file of this project.</p>\n<h3 dir=\"auto\">PayPal</h3>\n<p dir=\"auto\">Donate money by <a href=\"https://www.paypal.me/fatedier\" rel=\"nofollow\">PayPal</a> to my account <strong><a href=\"mailto:fatedier@gmail.com\">fatedier@gmail.com</a></strong>.</p>","updatedAt":"2025-05-21T15:58:19Z","upvoteCount":null,"author":{"login":"eryajf","avatarUrl":"https://avatars.githubusercontent.com/u/33259379?u=e4a4090a38ac2473aaed4ef9945233636776c6c3&v=4","url":"https://github.com/eryajf"},"category":null,"labels":{"edges":[{"node":{"name":"更多","color":"25B472"}},{"node":{"name":"内网穿透","color":"4b9909"}},{"node":{"name":"fatedier","color":"d89566"}}]},"comments":{"edges":[]}}},"pageContext":{"number":176,"previous":{"title":"AutohomeCorp/frostmourne: 基于 Elasticsearch,  Prometheus,  SkyWalking,  InfluxDB，MySQL/TiDB，ClickHouse,  SQLServer,  IoTDB 数据的分布式监控报警系统","number":175},"next":{"title":"shadow1ng/fscan: 一款内网综合扫描工具，方便一键自动化、全方位漏扫扫描。","number":177}}},
    "staticQueryHashes": ["151096407","2861350382"]}